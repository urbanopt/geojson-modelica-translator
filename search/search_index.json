{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Overview","text":"<p>The GeoJSON Modelica Translator (GMT) is a one-way trip from GeoJSON in combination with a well-defined instance of the system parameters schema to a Modelica package with multiple buildings loads, energy transfer stations, distribution networks, and central plants. The project will eventually allow multiple paths to build up different district heating and cooling system topologies; however, the initial implementation is limited to 4GDHC and 5GDHC.</p> <p>The project is motivated by the need to easily evaluate district energy systems. The goal is to eventually cover the various generations of heating and cooling systems as shown in the figure below. The need to move towards 5GDHC systems results in higher efficiencies and greater access to additional waste-heat sources.</p> <p></p>"},{"location":"#architecture-overview","title":"Architecture Overview","text":"<p>The GMT is designed to enable \"easy\" swapping between building loads, district systems, and network topologies. Some of these functionalities are more developed than others, for instance swapping between building loads is currently fleshed out; however, swapping between a fourth generation and a fifth generation system has yet to be fully implemented.</p> <p>The diagram below is meant to illustrate the future proposed interconnectivity and functionality of the GMT project.</p> <p></p> <p>As shown in the image, there are multiple building loads that can be deployed with the GMT and are described in the Building Load Models section below. These models, and the associated design parameters, are required to create a fully runnable Modelica model. The GMT leverages two file formats for generating the Modelica project and are the GeoJSON feature file and a System Parameter JSON file. Descriptions of these file are available in the Input File Documentation and in the various example and test projects.</p>"},{"location":"#building-load-models","title":"Building Load Models","text":"<p>The building loads can be defined multiple ways depending on the fidelity of the required models. Each of the building load models are easily replaced using configuration settings within the System Parameters file. The models can have mixed building load models, for example the district system can have 3 time series models, an RC model, and a detail Spawn model. The 4 different building load models include:</p> <ul> <li>Time Series in Watts: This building load is the total heating, cooling, and domestic hot water loads represented in a CSV type file (MOS file). The units are Watts and should be reported at an hour interval; however, finer resolution is possible. The load is defined as the load seen by the ETS.</li> <li>Time Series as mass flow rate and delta temperature: This building load is similar to the other Time Series model but uses the load as seen by the ETS in the form of mass flow rate and delta temperature. The file format is similar to the other Time Series model but the columns are mass flow rate and delta temperature for heating and cooling separately.</li> <li>RC Model: This model leverages the TEASER framework to generate an RC model with the correct coefficients based on high level parameters that are extracted from the GeoJSON file including building area and building type.</li> <li>Spawn of EnergyPlus: This model uses EnergyPlus models to represent the thermal zone heat balance portion of the models while using Modelica for the remaining components. Spawn of EnergyPlus is still under development and currently only works on Linux-based systems.</li> </ul>"},{"location":"authors/","title":"AUTHORS","text":""},{"location":"authors/#contributors","title":"Contributors","text":"Author Author's org GitHub Profile Nicholas Long NLR nllong Nathan Moore Formerly NLR vtnate Ted Summer Formerly Devetry/DEPT macintoshpie Katherine Fleming NLR kflemin Amy Allen NLR amyeallen1 Jiazhen Ling NLR jiazhenling Tanushree Charan NLR tanushree04 Jing Wang NLR / CU Boulder JingWang-CUB Antoine Gautier LBNL AntoineGautier Hagar Elarga NLR helarga Yanfei Li NLR. YanfeiNREL"},{"location":"changelog/","title":"Change Log","text":""},{"location":"changelog/#version-0130","title":"Version 0.13.0","text":""},{"location":"changelog/#whats-changed","title":"What's Changed","text":""},{"location":"changelog/#exciting-new-features","title":"Exciting New Features \ud83c\udf89","text":"<ul> <li>Use dynamic scaffolding, deprecate most PackageParser instances by @nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/785</li> <li>Add 5G Heat Pump Trio to GMT_Lib template by @nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/787</li> </ul>"},{"location":"changelog/#improvements-bug-fixes","title":"Improvements &amp; Bug Fixes \ud83d\udc1b","text":"<ul> <li>Support docker_image argument in OM Runner by @nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/772</li> <li>adds more robust result processing for GHP by @tanushree04 in https://github.com/urbanopt/geojson-modelica-translator/pull/775</li> <li>Update fluid concentration to be a fractional percent by @kflemin in https://github.com/urbanopt/geojson-modelica-translator/pull/784</li> <li>Add undisturbed soil temp validation by @kflemin in https://github.com/urbanopt/geojson-modelica-translator/pull/796</li> <li>Improve HeatPumpTrio ETS robustness by @JingWang-CUB in https://github.com/urbanopt/geojson-modelica-translator/pull/802</li> </ul>"},{"location":"changelog/#bug-fixes","title":"Bug Fixes \ud83d\udc1e","text":"<ul> <li>Downgrade click to support python 3.9 by @nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/770</li> <li>Update result processing library for GHPs by @tanushree04 in https://github.com/urbanopt/geojson-modelica-translator/pull/742</li> <li>Update method of counting number of buildings for 5G systems by @kflemin in https://github.com/urbanopt/geojson-modelica-translator/pull/808</li> </ul>"},{"location":"changelog/#dependency-updates","title":"Dependency Updates \ud83d\udce6","text":"<ul> <li>ci: bump the actions-deps group with 2 updates by @dependabot[bot] in https://github.com/urbanopt/geojson-modelica-translator/pull/765</li> <li>deps: bump the dev-deps group across 1 directory with 3 updates by @dependabot[bot] in https://github.com/urbanopt/geojson-modelica-translator/pull/768</li> <li>deps: bump the prod-deps group across 1 directory with 2 updates by @dependabot[bot] in https://github.com/urbanopt/geojson-modelica-translator/pull/769</li> <li>deps: bump rpds-py from 0.28.0 to 0.29.0 in the dev-deps group by @dependabot[bot] in https://github.com/urbanopt/geojson-modelica-translator/pull/773</li> <li>deps: bump pre-commit from 4.4.0 to 4.5.0 in the dev-deps group by @dependabot[bot] in https://github.com/urbanopt/geojson-modelica-translator/pull/776</li> <li>ci: bump actions/checkout from 5 to 6 in the actions-deps group by @dependabot[bot] in https://github.com/urbanopt/geojson-modelica-translator/pull/778</li> <li>deps: bump the dev-deps group with 2 updates by @dependabot[bot] in https://github.com/urbanopt/geojson-modelica-translator/pull/779</li> <li>deps: bump mkdocstrings-python from 1.19.0 to 2.0.1 in the prod-deps group across 1 directory by @dependabot[bot] in https://github.com/urbanopt/geojson-modelica-translator/pull/782</li> <li>ci: bump the actions-deps group with 2 updates by @dependabot[bot] in https://github.com/urbanopt/geojson-modelica-translator/pull/792</li> <li>deps: bump the prod-deps group across 1 directory with 3 updates by @dependabot[bot] in https://github.com/urbanopt/geojson-modelica-translator/pull/798</li> <li>Bump syrupy from 5.0.0 to 5.1.0 in the dev-deps group by @dependabot[bot] in https://github.com/urbanopt/geojson-modelica-translator/pull/805</li> <li>Update modelica builder version and precommit by @nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/804</li> </ul>"},{"location":"changelog/#maintenance","title":"Maintenance \ud83e\uddf9","text":"<ul> <li>Update changelog formatting by @nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/806</li> <li>Bump actions/github-script from 7 to 8 in the actions-deps group by @dependabot[bot] in https://github.com/urbanopt/geojson-modelica-translator/pull/807</li> <li>Add check to run documenation build on every commit by @nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/810</li> </ul>"},{"location":"changelog/#other-changes","title":"Other Changes","text":"<ul> <li>Fix param schema for docs site by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/762</li> <li>Update copyright and names by @kflemin in https://github.com/urbanopt/geojson-modelica-translator/pull/809</li> </ul>"},{"location":"changelog/#version-0120","title":"Version 0.12.0","text":""},{"location":"changelog/#exciting-new-features_1","title":"Exciting New Features \ud83c\udf89","text":"<ul> <li>Upgrade OpenModelica and MBL versions by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/738</li> <li>Improve schema validation messages by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/749</li> <li>Support multiple waste heat sources at random locations in the district loop by @JingWang-CUB in https://github.com/urbanopt/geojson-modelica-translator/pull/731</li> </ul>"},{"location":"changelog/#other-changes_1","title":"Other Changes","text":"<ul> <li>Schema fixes for ThermalNetwork by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/753</li> </ul>"},{"location":"changelog/#version-0110","title":"Version 0.11.0","text":""},{"location":"changelog/#exciting-new-features_2","title":"Exciting New Features \ud83c\udf89","text":"<ul> <li>New model templates for waste heat recovery by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/702</li> <li>Improve sys-param schema for borefields by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/715</li> </ul>"},{"location":"changelog/#version-0100","title":"Version 0.10.0","text":""},{"location":"changelog/#exciting-new-features_3","title":"Exciting New Features \ud83c\udf89","text":"<ul> <li>Expose skipping weather download by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/706</li> <li>Enable selecting output variables from Modelica simulation by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/707</li> <li>Add capability to pass Modelica flags to the GMT CLI by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/709</li> <li>More params by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/703</li> <li>Add autosizing flags to sys-param values that may be autosized by TN/GHED by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/708</li> <li>Add new heat pump ETS to 5G loads by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/710</li> <li>Require autosize flags in sys-param files by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/712</li> </ul>"},{"location":"changelog/#version-093","title":"Version 0.9.3","text":""},{"location":"changelog/#exciting-new-features_4","title":"Exciting New Features \ud83c\udf89","text":"<ul> <li>Add horizontal pipe pressure drop to sys-params by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/700</li> </ul>"},{"location":"changelog/#other-changes_2","title":"Other Changes","text":"<ul> <li>Expand capability of geojson class by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/694</li> <li>Cleanup Lingering RST Doc Extensions by @mitchute in https://github.com/urbanopt/geojson-modelica-translator/pull/701</li> </ul>"},{"location":"changelog/#version-092","title":"Version 0.9.2","text":""},{"location":"changelog/#exciting-new-features_5","title":"Exciting New Features \ud83c\udf89","text":"<ul> <li>Change thermal connectors to be measured in meters by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/697</li> </ul>"},{"location":"changelog/#other-changes_3","title":"Other Changes","text":"<ul> <li>Clean up matching district generation types by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/690</li> <li>Handle all-caps soil-temp stations, like Frankfurt by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/689</li> <li>Remove <code>is_ghe_start_loop</code> from test geojson files by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/688</li> </ul> <p>Full Changelog: https://github.com/urbanopt/geojson-modelica-translator/compare/v0.9.1...v0.9.2</p>"},{"location":"changelog/#version-091","title":"Version 0.9.1","text":"<ul> <li>Fix incorrect link to documentation site by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/684</li> <li>Use pre-made GHA workflow to publish docs by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/685</li> </ul>"},{"location":"changelog/#version-090","title":"Version 0.9.0","text":""},{"location":"changelog/#exciting-new-features_6","title":"Exciting New Features \ud83c\udf89","text":"<ul> <li>Upgrade OpenModelica &amp; MBL by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/641</li> <li>Support Python 3.13 by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/676</li> </ul>"},{"location":"changelog/#other-changes_4","title":"Other Changes","text":"<ul> <li>Putting GHEs downstream of the buildings by @JingWang-CUB in https://github.com/urbanopt/geojson-modelica-translator/pull/677</li> <li>Order horizontal piping correctly between buildings by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/679</li> <li>Allow skipping GeoJSON validation by @nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/681</li> <li>Switch to MkDocs by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/664</li> </ul> <p>Full Changelog: https://github.com/urbanopt/geojson-modelica-translator/compare/v0.8.0...v0.9.0</p>"},{"location":"changelog/#version-080","title":"Version 0.8.0","text":""},{"location":"changelog/#exciting-new-features_7","title":"Exciting New Features \ud83c\udf89","text":"<ul> <li>Add default cop values for 5G district heat pump efficiencies by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/640</li> <li>Support international weather locations by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/654</li> <li>Support multiple GHEs in a single district by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/644</li> <li>Adds method to process modelica results by @tanushree04 in https://github.com/urbanopt/geojson-modelica-translator/pull/646</li> <li>Simplify sys params to closer match reality by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/659</li> <li>Templates and tests for horizontal piping modeling by @JingWang-CUB in https://github.com/urbanopt/geojson-modelica-translator/pull/627</li> <li>Support single building DES templates by @nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/670</li> </ul>"},{"location":"changelog/#other-changes_5","title":"Other Changes","text":"<ul> <li>Improve cli typing &amp; validation by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/662</li> <li>Add detail to Docker setup docs for Windows users by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/643</li> <li>Use the correct ETS heat pump COP by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/642</li> <li>Use feature ids in load names instead of simple_uuid by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/652</li> <li>Remove alfalfa from conftest.py by @nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/665</li> <li>Update version of Jinja by @nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/667</li> <li>Clean up sys-param code that reads parameters by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/668</li> </ul> <p>Full Changelog: https://github.com/urbanopt/geojson-modelica-translator/compare/v0.7.0...v0.8.0</p>"},{"location":"changelog/#version-070","title":"Version 0.7.0","text":""},{"location":"changelog/#exciting-new-features_8","title":"Exciting New Features \ud83c\udf89","text":"<ul> <li>Rename new modelica models to clarify MBL version by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/618</li> <li>Minor improvements to the CLI by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/620</li> <li>Enable more detail when specifying district types by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/622</li> <li>Force a dummy value for SHW in modelica loads even if not present by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/626</li> </ul>"},{"location":"changelog/#other-changes_6","title":"Other Changes","text":"<ul> <li>Move README and CHANGELOG to markdown and update deployment notes by @nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/615</li> <li>Update instructions for releasing documentation publicly by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/617</li> <li>Specify units of GHE flow_rate by @vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/623</li> <li>Code documentation cleanup by @nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/631</li> <li>Expose borehole variables by @nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/630</li> </ul> <p>Full Changelog: https://github.com/urbanopt/geojson-modelica-translator/compare/v0.6.0...v0.7.0</p>"},{"location":"changelog/#version-060","title":"Version 0.6.0","text":""},{"location":"changelog/#exciting-new-features_9","title":"Exciting New Features \ud83c\udf89","text":"<ul> <li>Python 311 by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/518</li> <li>add max_electrical_load to building sys-param data by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/530</li> <li>Modifications for GHE by \\@tanushree04 in https://github.com/urbanopt/geojson-modelica-translator/pull/526</li> <li>Add Level 1 5G DES system by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/539</li> <li>Set SWH peak to 1/10th of space heating or min 5000W by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/542</li> <li>Added GHE templates - Issue511 by \\@JingWang-CUB in https://github.com/urbanopt/geojson-modelica-translator/pull/533</li> <li>Add MOS file wrapper and size the 5G mass flow rate by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/548</li> <li>Add OpenModelica compatibility by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/516</li> <li>Modify GHE params by \\@tanushree04 in https://github.com/urbanopt/geojson-modelica-translator/pull/537</li> <li>Fixing borefield test breaks due to schema changes by \\@JingWang-CUB in https://github.com/urbanopt/geojson-modelica-translator/pull/550</li> <li>Updating GHE Parameters: Modifying GHE Parameters schema and example files by \\@tanushree04 in https://github.com/urbanopt/geojson-modelica-translator/pull/551</li> <li>Enable compile &amp; simulate with OpenModelica in Docker by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/545</li> <li>Enhance and expand microgrid templates and code by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/549</li> <li>Enable numberOfIntervals run option by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/562</li> <li>Breakout package parser class by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/566</li> <li>Add a new GHE district test with new network template models by \\@JingWang-CUB in https://github.com/urbanopt/geojson-modelica-translator/pull/561</li> <li>Add GHE Properties to System Parameter File by \\@tanushree04 in https://github.com/urbanopt/geojson-modelica-translator/pull/570</li> <li>Use <code>filNam</code> parameter for TEASER loads and add within parsing to PackageParser by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/574</li> <li>Add new <code>ModelicaProject</code> class by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/575</li> <li>Add Dymola runner by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/577</li> <li>Template initial microgrid subsystem example by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/569</li> <li>Microgrid heating by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/586</li> <li>Change how ModelicaPaths are built so they also work on Windows computers by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/590</li> <li>Refactoring and enhancing to support multiple GHEs in a single district by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/601</li> <li>Replace shell script with call directly to docker by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/607</li> <li>Implement a PyPI release workflow by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/603</li> <li>Support Python 3.12 by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/593</li> <li>Add district nominal pump head to system parameters file by \\@JingWang-CUB in https://github.com/urbanopt/geojson-modelica-translator/pull/610</li> </ul>"},{"location":"changelog/#other-changes_7","title":"Other Changes","text":"<ul> <li>specify ports for each time series building in instance template by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/525</li> <li>Update license language by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/529</li> <li>Read correct data from sys-param for microgrid electrical load by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/560</li> <li>Prep for prerelease 0.6.0 by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/578</li> <li>initialize empty variable before potential use by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/579</li> <li>Include 5G partial model in generation by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/580</li> <li>Allow skipping of specific files when cloning a modelica project by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/584</li> <li>Add a quick fix for reading gfunction.csv from ghe_id subfolder by \\@JingWang-CUB in https://github.com/urbanopt/geojson-modelica-translator/pull/589</li> <li>Move modelica methods from GMT to modelica-builder by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/591</li> <li>Add model for controlled distribution loop mass flow rate by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/594</li> <li>Allow user to specify Modelica load filename by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/599</li> <li>Decouple gain for distribution and ghx mass flow rates by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/600</li> <li>Closed-loop changes to existing test_single_ghe test by \\@JingWang-CUB in https://github.com/urbanopt/geojson-modelica-translator/pull/597</li> <li>Update documentation for version 0.6.0 by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/592</li> <li>Use Ubuntu 20 and fix CHP model by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/611</li> </ul> <p>Full Changelog: https://github.com/urbanopt/geojson-modelica-translator/compare/v0.5.0...v0.6.0</p>"},{"location":"changelog/#version-050","title":"Version 0.5.0","text":""},{"location":"changelog/#exciting-new-features_10","title":"Exciting New Features \ud83c\udf89","text":"<ul> <li>Python 3.11 support by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/518</li> <li>Add max_electrical_load to building sys-param data by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/530</li> <li>Modifications for GHE by \\@tanushree04 in https://github.com/urbanopt/geojson-modelica-translator/pull/526</li> <li>Add Level 1 - 5G DES system by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/539</li> <li>Set SWH peak to 1/10th of space heating or min 5000W by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/542</li> <li>Added GHE templates by \\@JingWang-CUB in https://github.com/urbanopt/geojson-modelica-translator/pull/533</li> <li>Add OpenModelica compatibility by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/516</li> <li>Modify GHE params by \\@tanushree04 in https://github.com/urbanopt/geojson-modelica-translator/pull/537</li> <li>Enable compile &amp; simulate with OpenModelica in Docker by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/545</li> </ul>"},{"location":"changelog/#other-changes_8","title":"Other Changes","text":"<ul> <li>Specify ports for each time series building in instance template by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/525</li> <li>Update license language by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/529</li> <li>Add MOS file wrapper and size the 5G mass flow rate by \\@nllong in https://github.com/urbanopt/geojson-modelica-translator/pull/548</li> <li>Fixing borefield test breaks due to schema changes by \\@JingWang-CUB in https://github.com/urbanopt/geojson-modelica-translator/pull/550</li> <li>Updating GHE Parameters: Modifying GHE Parameters schema and example files by \\@tanushree04 in https://github.com/urbanopt/geojson-modelica-translator/pull/551</li> <li>Enhance and expand microgrid templates and code by \\@vtnate in https://github.com/urbanopt/geojson-modelica-translator/pull/549</li> </ul>"},{"location":"changelog/#new-contributors","title":"New Contributors","text":"<ul> <li>\\@tanushree04 made their first contribution in https://github.com/urbanopt/geojson-modelica-translator/pull/526</li> </ul> <p>Full Changelog: https://github.com/urbanopt/geojson-modelica-translator/compare/0.4.1...v0.5.0</p>"},{"location":"changelog/#version-041","title":"Version 0.4.1","text":""},{"location":"changelog/#whats-changed_1","title":"What\\'s Changed","text":"<ul> <li>Cli bug fixes</li> <li>Detailed models</li> <li>End-of-year updates to GMT docs</li> <li>Remove support for 3.7 in development, update development dependencies</li> <li>Update copyrights to 2023</li> </ul>"},{"location":"changelog/#version-040","title":"Version 0.4.0","text":"<p>As of version 0.4.0 changes will be published using Github automated formatting at the release itself. Those changes are copied here.</p>"},{"location":"changelog/#exciting-new-features_11","title":"Exciting New Features \ud83c\udf89","text":"<ul> <li>Redeclare the teaser model to use buildings.media.air medium</li> <li>Fmu runner</li> <li>Spawn docker named args</li> <li>Compile &amp; run with Spawn &amp; Optima</li> <li>Microgrid lines</li> <li>Add 5G to System Parameters file</li> <li>Weather file at top level</li> <li>Test with 3.10</li> <li>4G or 5G timeseries in Dymola</li> </ul>"},{"location":"changelog/#other-changes_9","title":"Other Changes","text":"<ul> <li>Breakout run in docker command</li> <li>Better error message if modelica timeseries files from sdk are not found</li> <li>Break out build and simulate tests</li> <li>Use Modelica Buildings Library (MBL) v9.0.0</li> <li>Point tests to latest mbl release</li> <li>Cli less brittle</li> <li>Run compilation tasks on CI using spawn Modelica and Optimica</li> <li>Update schema.json</li> </ul>"},{"location":"changelog/#version-030","title":"Version 0.3.0","text":"<ul> <li>Use MBL v9 (current master branch) for all models. Note that JModelica no longer works with this version. User must now use either Dymola or Optimica. A new solution is forthcoming.</li> <li>Update unit tests to break out building the tests and running the tests.</li> </ul>"},{"location":"changelog/#version-023","title":"Version 0.2.3","text":"<ul> <li>Add GMT Lib methods for Level 1 translation of Modelica-templated objects (for microgrid).</li> <li>Use MBL v9 (current master branch) for GMT Lib. The DES models still require the usage of the <code>issue2204_gmt_mbl</code> branch.</li> <li>Updated Jinja and Sphinx dependencies. Jinja is now a required dependency (no longer a testing dependency).</li> <li>Fix bug in CLI where commands only work in Unix-like operating systems, not Windows</li> <li>Fix bug in TEASER model for four-element RC models.</li> <li>Fix bug in TEASER infinite heating/cooling coupling template.</li> </ul>"},{"location":"changelog/#version-022","title":"Version 0.2.2","text":"<ul> <li>Fix bug in CLI which required the user to be in a specific directory to run. Updated CLI is more flexible.</li> <li>Update documentation.</li> </ul>"},{"location":"changelog/#version-021","title":"Version 0.2.1","text":"<ul> <li>New command line interface (CLI) for scaffolding project using results of URBANopt SDK\\'s OpenStudio results</li> <li>New script for converting CSV file into Modelica mos file.</li> <li>Cleanup of System Parameter Schema including renaming elements, adding definitions, and adding units</li> <li>Redesign the couplings and remove redundant model connector files</li> <li>Promote DES configuration variables to be accessible in the System Parameter file</li> <li>Extended flexibility of setting parameter values programmatically for Teaser, TimeSeries, and Spawn building load models models</li> <li>Upgrade to TEASER 0.7.5</li> <li>Upgrade to MBL 2.1.0</li> <li>Migrate to Poetry for development</li> <li>Add regression testing to full district energy system</li> <li>Auto-layout of templated components. This is a work in progress and  the next version will include \\\"pooling\\\" of components.</li> </ul>"},{"location":"changelog/#version-020","title":"Version 0.2.0","text":"<ul> <li>Add ETS data for indirect cooling to system parameters schema</li> <li>Add district system example</li> <li>Add time series model using mass flow rates and temperatures</li> <li>Add district heating (1GDH and 4GDH) and heating indirect ETS</li> <li>Add district cooling (4GDC) and cooling indirect ETS</li> <li>Add distribution network</li> <li>Update scaffolding to allow for mixed models</li> <li>Create initial documentation</li> </ul>"},{"location":"changelog/#version-010","title":"Version 0.1.0","text":"<p>This is the initial release of the package and includes the following functionality:</p> <ul> <li>Initial implementation of a ModelicaRunner to call a Docker container to run the model.</li> <li>Create an RC model using Modelica 3.2.x, Modelica Buildings Library 7.0 and TEASER 0.7.2.</li> <li>Create a Spawn-based models which loads an IDF file.</li> </ul>"},{"location":"developer_resources/","title":"Developer Resources","text":""},{"location":"developer_resources/#tests","title":"Tests","text":"<p>Tests are run with pytest, e.g.,</p> <pre><code>poetry run pytest\n</code></pre>"},{"location":"developer_resources/#snapshot-testing","title":"Snapshot Testing","text":"<p>Some tests use syrupy to compare generated modelica models to saved \"snapshots\" of the models (saved as .ambr files).</p> <p>Snapshots should only be updated if we have changed how a model is generated, and we know the new version of the model is the correct version. To update all snapshots, you can run the following and commit the new snapshot files.</p> <pre><code>poetry run pytest --snapshot-update\n</code></pre>"},{"location":"developer_resources/#design-overview","title":"Design Overview","text":"<p>The GMT is designed to create an arbitrary number of user-configured models attached to other user-configured models to represent a district energy system. GMT has \"building blocks\" that it uses to define and attach models, which currently include: Energy Transfer Stations (ETSs), Loads, Networks, and Plants.</p> <p>Each block type is a collection of models, e.g., the Loads includes time series and spawn models. A model in GMT refers to an abstracted Modelica model. It generates Modelica code (the Modelica model) and is used to define attachments to other models.</p> <p>Each block type can attach to other specific block types. For example, you can attach a load to an ETS, but you cannot attach a load to a network. However, some models (i.e., 5G) have an ETS embedded in them.</p> <p>Each block type has a corresponding directory inside of <code>geojson_modelica_translator/model_connectors</code>, which contains its different model types (e.g., for Loads it contains the Time Series model and others).</p> <p>Because models are different, even within a block type (e.g., different properties and maybe even ports), the GMT uses the concept of couplings for attaching models. Couplings define how two specific models attach in modelica. For example, a coupling could define how the time series load actually attaches to the heating indirect ETS.</p> <p>As an aside, if the GMT reached a point where all models within a block type implemented the same interface then couplings would not be necessary.</p>"},{"location":"developer_resources/#getting-started-as-a-developer","title":"Getting Started as a Developer","text":"<p>There are a few steps that are imperative to complete when starting as a developer of the GMT. First, make sure to follow the detailed instructions for Docker Installation in the Getting Started guide.</p> <p>Follow the instructions below in order to configure your local environment:</p> <ul> <li> <p>Get the Modelica Buildings Library. See the documentation at MBL Installation</p> </li> <li> <p>Clone the GMT repo into a working directory</p> </li> <li>(optional/as-needed) Add Python 3 to the environment variables</li> <li>As general guidance, we recommend using virtual environments to avoid dependencies colliding between your Python projects. venv is the Python native solution that will work everywhere, though other options may be more user-friendly:<ul> <li>pyenv and the virtualenv plugin work together nicely for Linux/Mac machines</li> <li>virtualenv</li> <li>miniconda</li> </ul> </li> <li>For developers, dependency management is through Poetry. Poetry can be acquired by running <code>pip install poetry</code>.</li> <li>If you haven't already installed a virtual environment, Poetry will automatically create a simplified environment for your project.</li> <li>Move to the GMT root directory and run <code>poetry install</code> to install the dependencies.</li> <li>Verify that everything is installed correctly by running <code>poetry run pytest -m 'not compilation and not simulation and not dymola'</code>. This will run all the unit and integration tests.</li> <li>Follow the instructions below to install pre-commit.</li> <li>To confirm that models will build and simulate, you can run</li> </ul> <pre><code>poetry run pytest -m 'not dymola' --cov-report term-missing --cov .\n</code></pre> <p>The tests should all pass assuming the libraries, Docker, and all dependencies are installed correctly on your computer. Also, there will be a set of Modelica models that are created, simulated, and persisted into the <code>tests/GMT_Lib/output</code> folder and the <code>tests/model_connectors/output</code> folder.</p>"},{"location":"developer_resources/#pre-commit","title":"Pre-commit","text":"<p>This project uses pre-commit to ensure code consistency. To enable pre-commit for your local development process, run the following from the command line from within the git checkout of the GMT:</p> <pre><code>pre-commit install\n</code></pre> <p>To run pre-commit against the files without calling git commit, then run the following. This is useful when cleaning up the repo before committing. CI will fail if pre-commit hasn't been run locally.</p> <pre><code>pre-commit run --all-files\n</code></pre>"},{"location":"developer_resources/#adding-new-models","title":"Adding New Models","text":"<p>To add a new model you have to do the following:</p> <ol> <li> <p>Define the model's python class: First, create a new python file and class under its respective directory in model_connectors. Follow the patterns of existing classes.</p> </li> <li> <p>Create coupling files: For every model that can be linked to, create a <code>&lt;ModelA&gt;_&lt;ModelB&gt;</code> directory in the couplings directory. The two files ComponentDefinitions.mopt and ConnectStatements.mopt must exist in this directory. See more information on the content of the coupling files below in the Couplings sections.</p> </li> <li> <p>Create the instance file: In the templates directory, you must define <code>&lt;ModelName&gt;_Instance.mopt</code> which is the template that instantiates the system in the district model.</p> </li> </ol> <p>See the notes below for more information.</p>"},{"location":"developer_resources/#couplings","title":"Couplings","text":"<p>A coupling defines the Modelica code necessary for interfacing two specific models, e.g., a time series load and heating indirect ETS. Each coupling is unique in its requirements:</p> <ul> <li>What additional components are necessary, for example there might be some sensor between system A and B, or maybe B requires a pump when A is a specific model type</li> <li>What ports are connected, for example connecting ports of model A and model B</li> </ul> <p>Thus each coupling must define two template files, <code>ComponentDefinitions.mopt</code> and <code>ConnectStatements.mopt</code>, respectively. These files must be placed in the directory <code>couplings/templates/&lt;model A&gt;_&lt;model B&gt;/</code>. In general, the order of the names should follow the order of system types if you laid out the district system starting with loads on the far left and plants on the far right (e.g., load before ETS, ETS before network, network before plant).</p>"},{"location":"developer_resources/#district-system","title":"District system","text":"<p>A district system is the model which incorporates all of the models and their couplings.</p>"},{"location":"developer_resources/#templating-flow","title":"Templating Flow","text":"<p>When rendering the district system model file, it must:</p> <ol> <li>call to_modelica() for each model to generate its Modelica code</li> <li>render the coupling partial templates (ie the Modelica code required for couplings)</li> <li>render the model instance definition (ie the Modelica code which instantiates the model)</li> <li>insert the coupling partials and model instance definitions into the district Modelica file</li> </ol> <p>Refer to the district template and the district code for reference.</p> <p>Each templating step has access to a particular set of variables, which is defined below.</p>"},{"location":"developer_resources/#summary-of-templating-contexts","title":"Summary of Templating Contexts","text":""},{"location":"developer_resources/#model-definition","title":"Model Definition","text":"<p>Each model generates one or more Modelica files to define its model. The templating context is implementation dependent, so refer to its <code>to_modelica()</code> method.</p>"},{"location":"developer_resources/#coupling-component-definitions","title":"Coupling Component Definitions","text":"<p>This is the template which defines new components/variables necessary for a coupling. More specifically, these are the partial template files at <code>model_connectors/couplings/templates/&lt;coupling name&gt;/ComponentDefinitions.mopt</code>. These templates have access to:</p> <ul> <li><code>globals</code>: global variables (those defined in the district.py, such as medium_w = MediumW)</li> <li><code>coupling</code>: contains the coupling id, as well as references to the coupled models under their respective types (e.g., coupling.load.id or coupling.network.id). You should append <code>coupling.id</code> to any variable identifiers to prevent name collisions. For example, instead of just writing <code>parameter Modelica.Units.SI.MassFlowRate mDis_flow_nominal</code> you should do <code>parameter Modelica.Units.SI.MassFlowRate mDis_flow_nominal_{{ coupling.id }}</code> as well as any place where you would reference that variable.</li> <li><code>graph</code>: an instance of the CouplingGraph class, where all couplings are located. It can provide useful methods for accessing couplings throughout the entire system. Refer to the python class to see what it can do.</li> <li><code>sys_params</code>: an object containing data from the system parameters file</li> <li><code>district_system</code>: contains the data from the district_system portion of the system parameters file</li> <li><code>building</code>: if the coupling includes a load, this object will be included as well -- if there's no as part of the coupling this object will NOT be present. It contains the building-specific system parameters pulled from the system parameters JSON file.</li> </ul>"},{"location":"developer_resources/#coupling-connect-statements","title":"Coupling Connect Statements","text":"<p>This is the template which defines connect statements to be inserted into the equation section. More specifically, these are the partial template files at <code>model_connectors/couplings/templates/&lt;coupling name&gt;/ConnectStatements.mopt</code>. These templates have access to:</p> <ul> <li><code>globals</code>: same as Coupling Component Definitions context</li> <li><code>coupling</code>: same as Coupling Component Definitions context. Just like with the component definitions template, you should use the coupling.id to avoid variable name collisions.</li> <li><code>graph</code>: same as Coupling Component Definitions context</li> <li><code>sys_params</code>: same as Coupling Component Definitions context</li> </ul>"},{"location":"developer_resources/#model-instance","title":"Model Instance","text":"<p>This template is used to declare a model instance.</p> <ul> <li><code>globals</code></li> <li><code>graph</code></li> <li><code>couplings</code>: contains each coupling the model is associated with. For example, if our ETS was coupled to a load and network, couplings would look like <code>{ load_couplings: [&lt;load coupling&gt;], network_couplings: [&lt;network coupling&gt;] }</code>. This can be used to access coupling and model ids.</li> <li><code>model</code>: contains info about the model instance, including <code>modelica_type</code> and <code>id</code>. These should be used to define the model, for example <code>{{ model.modelica_type }} {{ model.id }}(...)</code></li> <li><code>sys_params</code>: same as Coupling Component Definitions context</li> </ul>"},{"location":"developer_resources/#simulation-mapper-class-translator","title":"Simulation Mapper Class / Translator","text":"<p>The Simulation Mapper Class can operate at multiple levels:</p> <ol> <li>The GeoJSON level -- input: geojson, output: geojson+</li> <li>The Load Model Attachment -- input: geojson+, output: multiple files related to building load models (spawn, rom, csv)</li> <li>The Translation to Modelica -- input: custom format, output: .mo (example inputs: geojson+, system design parameters). The translators are implicit to the load model connectors as each load model requires different parameters to calculate the loads.</li> </ol> <p>In some cases, the Level 3 case (translation to Modelica) is a blackbox method (e.g., TEASER) which prevents a simulation mapper class from existing at that level.</p>"},{"location":"developer_resources/#running-simulations","title":"Running Simulations","text":"<p>The GeoJSON to Modelica Translator contains a <code>ModelicaRunner.run_in_docker(...)</code> method. This is useful for running Modelica simulations via Python and Docker using OpenModelica. This package's test suite also uses <code>ModelicaRunner</code> to run our test models with OpenModelica.</p>"},{"location":"developer_resources/#release-instructions","title":"Release Instructions","text":"<ol> <li>Create a branch named <code>Release 0.x.</code></li> <li>Update version in <code>pyproject.toml</code></li> <li>Update CHANGELOG using GitHub's \"Autogenerate Change Log\" feature, using <code>develop</code> as the target</li> <li>After tests pass, merge branch into develop</li> <li>From local command line, merge develop into main with: <code>git checkout main; git pull; git merge --ff-only origin develop; git push</code></li> <li>In GitHub, tag the release against main. Copy and paste the changelog entry into the notes. Verify the release is posted to PyPI.</li> </ol>"},{"location":"developer_resources/#build-and-release-the-documentation","title":"Build and release the documentation","text":"<p>During development we can serve docs locally and view updates as they are made.</p> <ol> <li>Start a documentation update branch: <code>git switch -c &lt;branch_name&gt;</code></li> <li><code>poetry run mkdocs serve</code></li> <li> <p>Point browser to http://127.0.0.1:8000/</p> </li> <li> <p>To deploy, push a commit in the <code>docs</code> folder to the <code>main</code> branch</p> </li> <li>Wait a few minutes, then verify the new documentation on the docs website</li> </ol>"},{"location":"getting_started/","title":"Getting Started","text":"<p>There are three major steps to running the GeoJSON to Modelica Translator (GMT):</p> <ol> <li>Generating the GeoJSON and System Parameter JSON files,</li> <li>Creating of the Modelica package containing the district system, and</li> <li>Running the Modelica package.</li> </ol> <p>Depending on the use case, the need to run all the steps above may not be needed. For example: it may be desirable to only generate the Modelica package and then open and run the model in a Modelica user interface such as Dymola. Or, there may be a case to simply generate the System Parameter file from results of an URBANopt SDK simulation. These files can then be customized by hand to build a district system to meet your needs.</p> <p>Therefore, this Getting Started guide is broken up into three major setup steps. Each one requires all previous steps to be completed first.</p> <ol> <li>Installing the GMT from PyPI</li> <li>Installing and configuring the Modelica Buildings Library (MBL)</li> <li>Installing and configuring Docker in order to run simulations using OpenModelica.</li> </ol>"},{"location":"getting_started/#gmt-installation","title":"GMT Installation","text":"<p>You must have PIP and Python 3.10 or later installed (run <code>python --version</code> to see what version you're using). After installing Python and PIP run the following in a terminal:</p> <pre><code>pip install geojson-modelica-translator\n</code></pre> <p>After installation of the GMT, a new command line interface (called the URBANopt District Energy Systems [UO DES] CLI) can be used to run various commands. Without needing to install the MBL the user can use the CLI to build the system parameters file from the results of the URBANopt SDK. For more information run the following:</p> <pre><code>uo_des -h\nuo_des build-sys-param -h\n</code></pre> <p>The command below is only an example; however, it will run if the repository is checked out and run in the following path: <code>./tests/management/data/sdk_project_scraps</code></p> <pre><code>uo_des build-sys-param sys_param.json baseline_scenario.csv example_project.json\n</code></pre>"},{"location":"getting_started/#mbl-installation","title":"MBL Installation","text":"<p>The Modelica Buildings Library contains many models that are needed to assemble the district systems. Follow the instructions below to install the MBL needed for the GMT:</p> <ul> <li>Download and extract the appropriate version of the MBL from https://simulationresearch.lbl.gov/modelica/downloads/archive/modelica-buildings.html</li> <li>The appropriate version can be found in the right-hand column of the installer matrix (may need to scroll to show that column).</li> <li>Add the Modelica Buildings Library path to your MODELICAPATH environment variable (e.g., <code>export MODELICAPATH=${MODELICAPATH}:$HOME/path/to/modelica-buildings</code>).</li> <li>For help setting env vars on Windows, this documentation may help: https://www.howtogeek.com/787217/how-to-edit-environment-variables-on-windows-10-or-11/</li> <li>Restart your terminal to ensure that the environment variable for the MBL library is exported correctly.</li> </ul> <p>Once the MBL is installed, then the CLI can be used to create the model with the following command:</p> <pre><code>uo_des create-model -h\n</code></pre> <p>The command below is only an example; however, it will run if the repository is checked out and run in the following path: <code>./tests/management/data/sdk_project_scraps</code></p> <pre><code>uo_des create-model sys_param.json example_project.json model_from_sdk\n</code></pre> <p>The resulting Modelica package will be created and can be opened in a Modelica editor. Open the <code>package.mo</code> file in the root directory of the generated package. You will also need to load the MBL into your Modelica editor.</p> <p>Most models can be simulated for free using OpenModelica, which is included via Docker.</p> <p>Dymola is a commercial alternative to OpenModelica. Licenses for use can be purchased from them.</p>"},{"location":"getting_started/#docker-installation","title":"Docker Installation","text":"<p>Version 0.5.0+ of the GMT enables running the models using OpenModelica which requires the installation of Docker. To configure Docker, do the following:</p> <ul> <li>Install Docker for your system.</li> <li>Configure Docker Desktop to have at least 4 GB Ram and 2 cores. This is configured under the Docker Preferences.</li> <li>Windows users can refer to these instructions for more detail on adjusting Docker resources and may also be helped by this page, which documents how to change resources in WSL.</li> <li>Larger models (more buildings) may require more resources in Docker.</li> <li>We recommend testing the Docker installation by simply running <code>docker run hello-world</code> in a terminal to confirm it is working as intended.</li> </ul> <p>After Docker is installed and configured, you can use the CLI to run the model using the following command:</p> <pre><code>uo_des run-model -h\n</code></pre> <p>The command below is only an example; however, it will run if the repository is checked out and run in the following path: <code>./tests/management/data/sdk_project_scraps</code></p> <pre><code>uo_des run-model model_from_sdk\n</code></pre>"},{"location":"input_file_documentation/","title":"Input File Documentation","text":"<p>There are two key input files that need to be defined to use the GeoJSON to Modelica Translator: a GeoJSON file and a System Parameters file.</p> <p>As an aside, 5GDHC systems also require a <code>loop_order</code> JSON file, which is automatically generated by the ThermalNetwork package and used without any human input.</p>"},{"location":"input_file_documentation/#geojson-documentation","title":"GeoJSON Documentation","text":"<p>Presently only the building_properties.json of URBANopt's GeoJSON schemas is leveraged in the GMT.</p>"},{"location":"input_file_documentation/#building-properties","title":"Building Properties","text":"<p>The building properties for the geojson file can be found in the <code>Schema</code> section of this documentation</p>"},{"location":"input_file_documentation/#system-parameters-schema","title":"System Parameters Schema","text":"<p>The system parameter properties can be found in the <code>Schema</code> section of this documentation</p>"},{"location":"license/","title":"License","text":"<p>URBANopt\u2122, Copyright (c) 2019, 2026 Alliance for Energy Innovation, LLC, and other contributors. All rights reserved.</p> <p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p> <p>(1) Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</p> <p>(2) Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</p> <p>(3) Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</p> <p>(4) Other than as required in clauses (1) and (2), distributions in any form of modifications or other derivative works (i) may not use the \"URBANopt\" trademark, or any other confusingly similar designation without specific prior written permission from Alliance for Sustainable Energy, LLC., and (ii) must refer to the underlying software originally provided by Alliance as \u201cURBANopt\u201d.</p> <p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p> <p>This library also uses some examples and components from the Modelica Buildings Library.</p> <p>Modelica Buildings Library. Copyright (c) 1998-2019 Modelica Association, International Building Performance Simulation Association (IBPSA), The Regents of the University of California, through Lawrence Berkeley National Laboratory (subject to receipt of any required approvals from the U.S. Dept. of Energy) and contributors. All rights reserved.</p> <p>NOTICE.  This Software was developed under funding from the U.S. Department of Energy and the U.S. Government consequently retains certain rights. As such, the U.S. Government has been granted for itself and others acting on its behalf a paid-up, nonexclusive, irrevocable, worldwide license in the Software to reproduce, distribute copies to the public, prepare derivative works, and perform publicly and display publicly, and to permit other to do so.</p> <p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p> <p>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</p> <p>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</p> <p>Neither the names of the Modelica Association, International Building Performance Simulation Association (IBPSA), the University of California, Lawrence Berkeley National Laboratory, U.S. Dept. of Energy, nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</p> <p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p> <p>You are under no obligation whatsoever to provide any bug fixes, patches, or upgrades to the features, functionality or performance of the source code (\"Enhancements\") to anyone; however, if you choose to make your Enhancements available either publicly, or directly to Lawrence Berkeley National Laboratory, without imposing a separate written license agreement for such Enhancements, then you hereby grant the following license: a non-exclusive, royalty-free perpetual license to install, use, modify, prepare derivative works, incorporate into other computer software, distribute, and sublicense such enhancements or derivative works thereof, in binary and source code form.</p> <p>Note: The license is a revised 3 clause BSD license with an ADDED paragraph at the end that makes it easy to accept improvements.</p>"}]}