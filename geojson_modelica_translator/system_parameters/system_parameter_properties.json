{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "$ref": "#/definitions/system_design_parameter_def",
  "definitions": {
    "system_design_parameter_def": {
      "title": "System Design Parameter Schema",
      "description": "Definition of System Design Parameters. (Version 0.1). Fields prefaced with [unused] in the description are placeholders (or informational) and are not actually connected in the GMT.",
      "type": "object",
      "properties": {
        "buildings": {
          "description": "Parameters for individual buildings.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/building_def"
          }
        },
        "connectors": {
          "$ref": "#/definitions/connector_def"
        },
        "district_system": {
          "description": "Parameters associated with district systems.",
          "type": "object",
          "oneOf": [
            {
              "$ref": "#/definitions/fourth_generation_def"
            },
            {
              "$ref": "#/definitions/fifth_generation_def"
            }
          ]
        },
        "weather": {
          "description": "Path, relative or absolute, to a weather file for the district in Modelica format (MOS).",
          "type": "string"
        },
        "topology": {
          "title": "defaults",
          "description": "[unused] Parameters associated with district topologies.",
          "type": "object",
          "properties": {
            "topology_parameters": {
              "description": "Description of topology style",
              "$ref": "#/definitions/topology_def"
            },
            "topology_optimization": {
              "description": "Perform topology optimization?",
              "type": "boolean"
            },
            "cost_function": {
              "description": "Cost function to use in topology optimization",
              "$ref": "#/definitions/cost_function_definition"
            },
            "optimization_approach": {
              "description": "Approach to use for topology optimization",
              "$ref": "#/definitions/optimization_definition"
            },
            "time_period": {
              "description": "Time horizon for topology optimization.This parameter is used only if LCC is used as the cost function.",
              "type": "integer"
            },
            "discount_rate": {
              "description": "Discount rate for topology optimization. This parameter is used only if LCC is used as the cost function.",
              "type": "integer"
            },
            "convergence_criteria": {
              "description": "Convergence criteria used to indicate to the optimization algorithm when to stop. This could represent a number of iterations.",
              "type": "integer"
            }
          },
          "dependencies": {
            "topology_optimization": [
              "cost_function",
              "optimization_approach",
              "time_period",
              "discount_rate",
              "convergence_criteria"
            ]
          },
          "additionalProperties": false
        },
        "electrical_grid": {
          "$ref": "#/definitions/electrical_grid_parameters"
        },
        "photovoltaic_panels": {
          "description": "Photovoltaic systems (rooftop or ground mount) associated with the district - from scenario optimization",
          "type": "array",
          "items": {
            "$ref": "#/definitions/pv_parameters"
          }
        },
        "wind_turbines": {
          "description": "Wind turbines associated with the district - from scenario optimization",
          "type": "array",
          "items": {
            "$ref": "#/definitions/wind_turbine_parameters"
          }
        },
        "combined_heat_and_power_systems": {
          "description": "Combined heat and power (CHP) systems associated with the district - from scenario optimization",
          "type": "array",
          "items": {
            "$ref": "#/definitions/combined_heat_and_power_parameters"
          }
        },
        "capacitor_banks": {
          "description": "Capacitor banks associated with the district",
          "type": "array",
          "items": {
            "$ref": "#/definitions/capacitor_bank_parameters"
          }
        },
        "substations": {
          "description": "Substations associated with the district",
          "type": "array",
          "items": {
            "$ref": "#/definitions/substation_parameters"
          }
        },
        "transformers": {
          "description": "Transformers associated with the district",
          "type": "array",
          "items": {
            "$ref": "#/definitions/transformer_parameters"
          }
        },
        "power_converters": {
          "description": "Power converters associated with the district",
          "type": "array",
          "items": {
            "$ref": "#/definitions/power_converter_parameters"
          }
        },
        "distribution_lines": {
          "description": "Distribution lines associated with the district",
          "type": "array",
          "items": {
            "$ref": "#/definitions/distribution_line_parameters"
          }
        },
        "ac_inductive_loads": {
          "description": "AC inductive loads associated with the district",
          "type": "array",
          "items": {
            "$ref": "#/definitions/ac_inductive_load_parameters"
          }
        },
        "dc_loads": {
          "description": "DC loads associated with the district",
          "type": "array",
          "items": {
            "$ref": "#/definitions/dc_load_parameters"
          }
        },
        "battery_banks": {
          "description": "Battery banks associated with the district",
          "type": "array",
          "items": {
            "$ref": "#/definitions/battery_bank_parameters"
          }
        }
      },
      "additionalProperties": false
    },
    "topology_def": {
      "title": "defaults",
      "description": "[unused] Parameters associated with district topologies.",
      "type": "object",
      "properties": {
        "configuration": {
          "type": "string",
          "enum": [
            "Radial",
            "Ring",
            "Mesh",
            "Out and Back"
          ]
        }
      },
      "additionalProperties": false
    },
    "cost_function_definition": {
      "title": "defaults",
      "description": "[unused] Possible cost functions for the topology optimization problem",
      "type": "object",
      "properties": {
        "cost_function": {
          "type": "string",
          "enum": [
            "Energy",
            "Life Cycle Cost",
            "Carbon Emissions"
          ]
        }
      },
      "additionalProperties": false
    },
    "optimization_definition": {
      "title": "defaults",
      "description": "[unused] Optimization approach for the topology optimization problem",
      "type": "object",
      "properties": {
        "optimization_approach": {
          "type": "string",
          "enum": [
            "Black box",
            "Gradient-based"
          ]
        }
      },
      "additionalProperties": false
    },
    "building_def": {
      "description": "Specific parameters for each building.",
      "type": "object",
      "properties": {
        "geojson_id": {
          "description": "The GeoJSON ID as defined in the GeoJSON file.",
          "type": "string"
        },
        "load_model": {
          "description": "Type of load model to use for the building.",
          "type": "string",
          "enum": [
            "rc",
            "time_series",
            "time_series_massflow_temperature",
            "spawn"
          ]
        },
        "load_model_parameters": {
          "type": "object",
          "properties": {
            "spawn": {
              "$ref": "#/definitions/spawn_model_parameters"
            },
            "rc": {
              "$ref": "#/definitions/rc_model_parameters"
            },
            "time_series": {
              "$ref": "#/definitions/time_series_model_parameters"
            }
          },
          "additionalProperties": false,
          "anyOf": [
            {
              "required": [
                "spawn"
              ]
            },
            {
              "required": [
                "rc"
              ]
            },
            {
              "required": [
                "time_series"
              ]
            }
          ]
        },
        "ets_model": {
          "description": "Energy transfer station model. One side is connected to the district water loops and the other side is connected to the building water loops.",
          "type": "string",
          "enum": [
            "Indirect Heating and Cooling",
            "Fifth Gen Heat Pump"
          ]
        },
        "ets_model_parameters": {
          "type": "object",
          "additionalProperties": false,
          "oneOf": [
            {
              "$ref": "#/definitions/ets_indirect_parameters"
            },
            {
              "$ref": "#/definitions/fifth_gen_ets_parameters"
            }
          ]
        },
        "photovoltaic_panels": {
          "description": "Photovoltaic systems (rooftop or ground mount) associated with the building - from feature optimization",
          "type": "array",
          "items": {
            "$ref": "#/definitions/pv_parameters"
          }
        },
        "diesel_generators": {
          "description": "Diesel generators associated with the building",
          "type": "array",
          "items": {
            "$ref": "#/definitions/diesel_generator_parameters"
          }
        },
        "battery_banks": {
          "description": "Battery banks associated with the building",
          "type": "array",
          "items": {
            "$ref": "#/definitions/battery_bank_parameters"
          }
        },
        "electric_load": {
          "description": "microgrid-related load fields",
          "properties": {
            "nominal_voltage": {
              "description": "Nominal load voltage",
              "type": "number",
              "format": "V"
            },
            "max_power": {
              "description": "Maximum load power",
              "type": "number",
              "format": "kW"
            },
            "max_reactive_power": {
              "description": "Maximum reactive power",
              "type": "number",
              "format": "kvar"
            }
          }
        }
      },
      "oneOf": [
        {
          "required": [
            "ets_indirect_parameters"
          ]
        },
        {
          "required": [
            "fifth_gen_ets_parameters"
          ]
        }
      ],
      "required": [
        "geojson_id",
        "ets_model",
        "load_model",
        "load_model_parameters"
      ]
    },
    "connector_def": {
      "description": "[unused] Parameters associated with the connectors in a district system.",
      "type": "object",
      "properties": {
        "pipe_diameter": {
          "description": "[unused] Pipe diameter.",
          "type": "number",
          "format": "Meters"
        },
        "pipe_insulation_rvalue": {
          "description": "[unused] Pipe insulation R-Value.",
          "type": "number",
          "format": "m2-K/W"
        },
        "pipe_location": {
          "description": "[unused] Location of the pipe.",
          "type": "string",
          "enum": [
            "Tunnel",
            "Buried"
          ]
        },
        "pipe_material": {
          "description": "[unused] Pipe material (to be used for determining surface roughness) ",
          "type": "string",
          "enum": [
            "Plastic",
            "Steel"
          ]
        }
      },
      "additionalProperties": false
    },
    "district_system_def": {
      "description": "Parameters associated with the district system.",
      "type": "object",
      "properties": {
        "return_configuration": {
          "description": "[unused] Type of return configuration for the overall district system. MW - not really needed. Just use pipes with supply/return.",
          "type": "string",
          "enum": [
            "Direct Return",
            "Reverse Return"
          ]
        },
        "connection_configuration": {
          "description": "[unused] Type of connection of buildings to the loop",
          "type": "string",
          "enum": [
            "Series",
            "Parallel"
          ]
        },
        "central_cooling_plant_parameters": {
          "$ref": "#/definitions/central_cooling_plant_parameters"
        },
        "central_heating_plant_parameters": {
          "$ref": "#/definitions/central_heating_plant_parameters"
        },
        "combined_heat_and_power_parameters": {
          "$ref": "#/definitions/combined_heat_and_power_parameters"
        }
      },
      "additionalProperties": false
    },
    "ets_indirect_parameters": {
      "description": "The parameters associated with the indirect energy transfer station.",
      "type": "object",
      "properties": {
        "heat_flow_nominal": {
          "description": "Nominal heat flow rate.",
          "type": "number",
          "default": 10000,
          "format": "W"
        },
        "heat_exchanger_efficiency": {
          "description": "Heat exchanger efficiency. (fraction)",
          "type": "number",
          "default": 0.8
        },
        "heat_exchanger_primary_pressure_drop": {
          "description": "Heat exchanger primary side pressure drop.",
          "type": "number",
          "default": 500,
          "format": "Pascals"
        },
        "heat_exchanger_secondary_pressure_drop": {
          "description": "Heat exchanger secondary side pressure drop.",
          "type": "number",
          "default": 500,
          "format": "Pascals"
        },
        "nominal_mass_flow_building": {
          "description": "Building water nominal flow rate.",
          "type": "number",
          "default": 10,
          "format": "Kilograms per second"
        },
        "nominal_mass_flow_district": {
          "description": "District water nominal flow rate.",
          "type": "number",
          "default": 10,
          "format": "Kilograms per second"
        },
        "valve_pressure_drop": {
          "description": "Valve pressure drop.",
          "type": "number",
          "default": 6000,
          "format": "Pascals"
        },
        "cooling_supply_water_temperature_building": {
          "description": "Chilled water supply temperature building side.",
          "type": "number",
          "default": 7,
          "format": "Celsius"
        },
        "heating_supply_water_temperature_building": {
          "description": "Heating water supply temperature building side.",
          "type": "number",
          "default": 50,
          "format": "Celsius"
        },
        "delta_temp_hw_district": {
          "description": "Heating water temperature difference on on the district side.",
          "type": "number",
          "default": 20,
          "format": "Celsius"
        },
        "delta_temp_hw_building": {
          "description": "Design temperature differential on the building side.",
          "type": "number",
          "default": 15,
          "format": "Celsius"
        },
        "delta_temp_chw_building": {
          "description": "Chilled water temperature difference on the building side.",
          "type": "number",
          "default": 5,
          "format": "Celsius"
        },
        "delta_temp_chw_district": {
          "description": "Design temperature differential on the district side.",
          "type": "number",
          "default": 8,
          "format": "Celsius"
        },
        "cooling_controller_y_max": {
          "description": "Controller upper limit",
          "type": "number",
          "default": 1
        },
        "cooling_controller_y_min": {
          "description": "Controller lower limit",
          "type": "number",
          "default": 0
        },
        "heating_controller_y_max": {
          "description": "Controller upper limit",
          "type": "number",
          "default": 1
        },
        "heating_controller_y_min": {
          "description": "Controller lower limit",
          "type": "number",
          "default": 0
        }
      },
      "required": [
        "heat_flow_nominal",
        "heat_exchanger_efficiency",
        "heat_exchanger_primary_pressure_drop",
        "heat_exchanger_secondary_pressure_drop",
        "nominal_mass_flow_building",
        "nominal_mass_flow_district",
        "valve_pressure_drop",
        "cooling_supply_water_temperature_building",
        "heating_supply_water_temperature_building",
        "delta_temp_hw_district",
        "delta_temp_hw_building",
        "delta_temp_chw_building",
        "delta_temp_chw_district",
        "cooling_controller_y_max",
        "cooling_controller_y_min",
        "heating_controller_y_max",
        "heating_controller_y_min"
      ]
    },
    "spawn_model_parameters": {
      "description": "Parameters associated with spawn models.",
      "type": "object",
      "properties": {
        "temp_setpoint_cooling": {
          "description": "Cooling setpoint air temperature.",
          "type": "number",
          "default": 24,
          "format": "Celsius"
        },
        "temp_setpoint_heating": {
          "description": "Heating setpoint air temperature.",
          "type": "number",
          "default": 20,
          "format": "Celsius"
        },
        "temp_hw_supply": {
          "description": "Heating water supply temperature.",
          "type": "number",
          "default": 40,
          "format": "Celsius"
        },
        "temp_hw_return": {
          "description": "Heating water return temperature.",
          "type": "number",
          "default": 35,
          "format": "Celsius"
        },
        "temp_chw_supply": {
          "description": "Chilled water supply temperature.",
          "type": "number",
          "default": 7,
          "format": "Celsius"
        },
        "temp_chw_return": {
          "description": "Chilled water return temperature.",
          "type": "number",
          "default": 12,
          "format": "Celsius"
        },
        "has_liquid_heating": {
          "description": "Whether the building has liquid heating.",
          "type": "boolean",
          "default": true
        },
        "has_liquid_cooling": {
          "description": "Whether the building has liquid cooling.",
          "type": "boolean",
          "default": true
        },
        "has_electric_heating": {
          "description": "Whether the building has electric heating.",
          "type": "boolean",
          "default": false
        },
        "has_electric_cooling": {
          "description": "Whether the building has electric cooling.",
          "type": "boolean",
          "default": false
        },
        "idf_filename": {
          "description": "Absolute path or relative path from location where file instance is saved.",
          "type": "string"
        },
        "thermal_zone_names": {
          "description": "List of thermal zones in the Spawn / EnergyPlus model.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "zone_nom_htg_loads": {
          "description": "Array of zone nominal heating loads (values should be >0) ",
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "zone_nom_clg_loads": {
          "description": "Array of zone nominal cooling loads (values should be <0)",
          "type": "array",
          "items": {
            "type": "number"
          }
        }
      },
      "required": [
        "temp_setpoint_cooling",
        "temp_setpoint_heating",
        "temp_hw_supply",
        "temp_hw_return",
        "temp_chw_supply",
        "temp_chw_return",
        "idf_filename",
        "thermal_zone_names",
        "zone_nom_htg_loads",
        "zone_nom_clg_loads"
      ],
      "additionalProperties": false
    },
    "rc_model_parameters": {
      "description": "Parameters associated with RC models.",
      "type": "object",
      "properties": {
        "temp_setpoint_cooling": {
          "description": "Cooling setpoint air temperature.",
          "type": "number",
          "default": 24,
          "format": "Celsius"
        },
        "temp_setpoint_heating": {
          "description": "Heating setpoint air temperature.",
          "type": "number",
          "default": 20,
          "format": "Celsius"
        },
        "temp_hw_supply": {
          "description": "Heating water supply temperature.",
          "type": "number",
          "default": 40,
          "format": "Celsius"
        },
        "temp_hw_return": {
          "description": "Heating water return temperature.",
          "type": "number",
          "default": 35,
          "format": "Celsius"
        },
        "temp_chw_supply": {
          "description": "Chilled water supply temperature.",
          "type": "number",
          "default": 7,
          "format": "Celsius"
        },
        "temp_chw_return": {
          "description": "Chilled water return temperature.",
          "type": "number",
          "default": 12,
          "format": "Celsius"
        },
        "has_liquid_heating": {
          "description": "Whether the building has liquid heating.",
          "type": "boolean",
          "default": true
        },
        "has_liquid_cooling": {
          "description": "Whether the building has liquid cooling.",
          "type": "boolean",
          "default": true
        },
        "has_electric_heating": {
          "description": "Whether the building has electric heating.",
          "type": "boolean",
          "default": false
        },
        "has_electric_cooling": {
          "description": "Whether the building has electric cooling.",
          "type": "boolean",
          "default": false
        },
        "order": {
          "type": "integer",
          "enum": [
            1,
            2,
            3,
            4
          ],
          "default": 2
        },
        "fraction_latent_person": {
          "description": "Fraction latent of sensible persons load (e.g., 0.8 = home, 1.25 = office).",
          "type": "number",
          "default": 1.25
        }
      },
      "required": [
        "temp_setpoint_cooling",
        "temp_setpoint_heating",
        "temp_hw_supply",
        "fraction_latent_person"
      ],
      "additionalProperties": false
    },
    "time_series_model_parameters": {
      "description": "Parameters associated with time series models.",
      "type": "object",
      "properties": {
        "temp_setpoint_cooling": {
          "description": "Cooling setpoint air temperature.",
          "type": "number",
          "default": 24,
          "format": "Celsius"
        },
        "temp_setpoint_heating": {
          "description": "Heating setpoint air temperature.",
          "type": "number",
          "default": 20,
          "format": "Celsius"
        },
        "temp_hw_supply": {
          "description": "Heating water supply temperature.",
          "type": "number",
          "default": 40,
          "format": "Celsius"
        },
        "temp_hw_return": {
          "description": "Heating water return temperature.",
          "type": "number",
          "default": 35,
          "format": "Celsius"
        },
        "temp_chw_supply": {
          "description": "Chilled water supply temperature.",
          "type": "number",
          "default": 7,
          "format": "Celsius"
        },
        "temp_chw_return": {
          "description": "Chilled water return temperature.",
          "type": "number",
          "default": 12,
          "format": "Celsius"
        },
        "has_liquid_heating": {
          "description": "Whether the building has liquid heating.",
          "type": "boolean",
          "default": true
        },
        "has_liquid_cooling": {
          "description": "Whether the building has liquid cooling.",
          "type": "boolean",
          "default": true
        },
        "has_electric_heating": {
          "description": "Whether the building has electric heating.",
          "type": "boolean",
          "default": false
        },
        "has_electric_cooling": {
          "description": "Whether the building has electric cooling.",
          "type": "boolean",
          "default": false
        },
        "max_electrical_load": {
          "description": "Maximum electrical load from OpenStudio building simulation.",
          "type": "number",
          "default": 0,
          "format": "Watts"
        },
        "filepath": {
          "type": "string"
        },
        "delta_temp_air_cooling": {
          "description": "Nominal cooling air temperature difference across the terminal unit heat exchanger.",
          "type": "number",
          "default": 10,
          "format": "Celsius"
        },
        "delta_temp_air_heating": {
          "description": "Nominal heating air temperature difference across the terminal unit heat exchanger.",
          "type": "number",
          "default": 18,
          "format": "Celsius"
        }
      },
      "required": [
        "temp_setpoint_cooling",
        "temp_setpoint_heating",
        "temp_hw_supply",
        "filepath",
        "delta_temp_air_cooling",
        "delta_temp_air_heating"
      ],
      "additionalProperties": false
    },
    "central_cooling_plant_parameters": {
      "description": "Central cooling plant with maximum number of two chillers. Parameters associated with the model",
      "type": "object",
      "properties": {
        "cooling_tower_fan_power_nominal": {
          "description": "Cooling tower fan power.",
          "type": "number",
          "default": 5000,
          "format": "Watts"
        },
        "heat_flow_nominal": {
          "description": "Nominal district cooling load.",
          "type": "number",
          "default": 8000,
          "format": "Watts"
        },
        "mass_chw_flow_nominal": {
          "description": "Nominal chilled water mass flow rate.",
          "type": "number",
          "default": 10,
          "format": "Kilograms per second"
        },
        "chiller_water_flow_minimum": {
          "description": " Chiller minimum  water mass flow rate.",
          "type": "number",
          "default": 10,
          "format": "Kilograms per second"
        },
        "mass_cw_flow_nominal": {
          "description": "Nominal condenser water mass flow rate.",
          "type": "number",
          "default": 10,
          "format": "Kilograms per second"
        },
        "chw_pump_head": {
          "description": "Chilled water pump head",
          "type": "number",
          "default": 300000,
          "format": "Pascals"
        },
        "cw_pump_head": {
          "description": "Cooling water pump head.",
          "type": "number",
          "default": 200000,
          "format": "Pascals"
        },
        "pressure_drop_chw_nominal": {
          "description": "Nominal chilled water (evaporator) side pressure drop.",
          "type": "number",
          "default": 55000,
          "format": "Pascals"
        },
        "pressure_drop_cw_nominal": {
          "description": "Nominal cooling water (condenser) side pressure drop.",
          "type": "number",
          "default": 80000,
          "format": "Pascals"
        },
        "pressure_drop_setpoint": {
          "description": "The chilled water circuit pressure drop setpoint.",
          "type": "number",
          "default": 50000,
          "format": "Pascals"
        },
        "temp_setpoint_chw": {
          "description": "District circuit chilled water temperature setpoint.",
          "type": "number",
          "default": 5,
          "format": "Celsius"
        },
        "pressure_drop_chw_valve_nominal": {
          "description": "Chiller isolation valve pressure drop.",
          "type": "number",
          "default": 6000,
          "format": "Pascals"
        },
        "pressure_drop_cw_pum_nominal": {
          "description": "Cooling tower isolation valve pressure drop.",
          "type": "number",
          "default": 6000,
          "format": "Pascals"
        },
        "temp_air_wb_nominal": {
          "description": "Design air wet-bulb temperature.",
          "type": "number",
          "default": 25,
          "format": "Celsius"
        },
        "temp_cw_in_nominal": {
          "description": "Nominal cooling water inlet temperature.",
          "type": "number",
          "default": 35,
          "format": "Celsius"
        },
        "cooling_tower_water_temperature_difference_nominal": {
          "description": "Nominal water temperature difference of the tower.",
          "type": "number",
          "default": 7,
          "format": "Celsius"
        },
        "delta_temp_approach": {
          "description": "Approach temperature difference.",
          "type": "number",
          "default": 3,
          "format": "Celsius"
        },
        "ratio_water_air_nominal": {
          "description": "To be defined",
          "type": "number",
          "default": 0.625
        }
      },
      "required": [
        "temp_setpoint_chw"
      ]
    },
    "central_heating_plant_parameters": {
      "description": "Central heating plant with maximum number of two boilers. Parameters associated with the model.",
      "type": "object",
      "properties": {
        "heat_flow_nominal": {
          "description": "Nominal district heating load.",
          "type": "number",
          "default": 8000,
          "format": "Watts"
        },
        "mass_hhw_flow_nominal": {
          "description": "Nominal heating water mass flow rate.",
          "type": "number",
          "default": 1,
          "format": "Kilograms per second"
        },
        "boiler_water_flow_minimum": {
          "description": "[unused] Boiler minimum  water mass flow rate.",
          "type": "number",
          "default": 0.1,
          "format": "Kilograms per second"
        },
        "pressure_drop_hhw_nominal": {
          "description": "[unused] Nominal heating water (boiler side) pressure drop.",
          "type": "number",
          "default": 55000,
          "format": "Pascals"
        },
        "temp_setpoint_hhw": {
          "description": "District circuit heating water temperature setpoint.",
          "type": "number",
          "default": 55,
          "format": "Celsius"
        },
        "pressure_drop_hhw_valve_nominal": {
          "description": "Boiler isolation valve pressure drop.",
          "type": "number",
          "default": 6000,
          "format": "Pascals"
        },
        "chp_installed": {
          "description": "True if heating plant is a Combined Heat and Power plant",
          "type": "boolean"
        },
        "chp_thermal_following": {
          "description": "True if CHP is thermal_following (prioritized thermal heat over electricity)",
          "type": "boolean"
        }
      },
      "required": [
        "temp_setpoint_hhw"
      ]
    },
    "combined_heat_and_power_parameters": {
      "description": "Combined heat and power (CHP) parameters used by the microgrid model.",
      "type": "object",
      "properties": {
        "fuel_type": {
          "description": "Type of fuel used",
          "type": "string",
          "enum": [
            "Gas",
            "Oil"
          ]
        },
        "number_of_machines": {
          "description": "Number of machines",
          "type": "integer"
        },
        "single_electricity_generation_capacity": {
          "description": "Single machine electricity generation capacity (kW)",
          "type": "number"
        },
        "performance_data_path": {
          "description": "Relative path from location where file instance is saved to the .mo file which records the performance curve of a CHP",
          "type": "string"
        }
      }
    },
    "ghe_parameters": {
      "description": "Parameters associated with Ground Heat Exchangers.",
      "type": "object",
      "properties": {
        "version": {
          "description": "Version of GHE Designer",
          "type": "string"
        },
        "ghe_dir": {
          "description": "Results directory for GHE Designer. Absolute path, or relative to the sys-param file.",
          "type": "string"
        },
        "borefields": {
          "description": "Specific properties for each Ground Heat Exchanger",
          "type": "array",
          "items": {
            "$ref": "#/definitions/borefields_def"
          }
        },
        "pipe": {
          "$ref": "#/definitions/pipe_def"
        },
        "fluid": {
          "$ref": "#/definitions/fluid_def"
        },
        "grout": {
          "$ref": "#/definitions/grout_def"
        },
        "simulation": {
          "$ref": "#/definitions/simulation_def"
        },
        "design": {
          "$ref": "#/definitions/design_def"
        },
        "borehole": {
          "$ref": "#/definitions/borehole_def"
        }
      },
      "required": [
        "borefields",
        "borehole",
        "pipe",
        "fluid",
        "grout",
        "simulation",
        "design"
      ]
    },
    "horizontal_piping_parameters": {
      "type": "object",
      "properties": {
        "hydraulic_diameter": {
          "description": "Hydraulic diameter of the distribution pipe",
          "type": "number",
          "minimum": 0.01,
          "format": "Meters"
        },
        "hydraulic_diameter_autosized": {
          "description": "True if the hydraulic diameter is autosized, false if set manually",
          "type": "boolean",
          "default": true
        },
        "insulation_thickness": {
          "description": "Thickness of pipe insulation, used to compute R. If no insulation, use a virtual insulation layer of soil.",
          "type": "number",
          "minimum": 0.01,
          "format": "Meters"
        },
        "insulation_conductivity": {
          "description": "Heat conductivity of pipe insulation, used to compute R. If no insulation, use a virtual insulation layer of soil.",
          "type": "number",
          "minimum": 0.01,
          "format": "Watts per meter-Kelvin"
        },
        "diameter_ratio": {
          "description": "The ratio of pipe outer diameter to pipe wall thickness",
          "type": "number"
        },
        "pressure_drop_per_meter": {
          "description": "Pressure drop per meter of pipe at nominal flow rate.",
          "type": "integer",
          "minimum": 0,
          "format": "Pascals per meter"
        },
        "roughness": {
          "description": "Average height of pipe material surface asperities",
          "type": "number",
          "format": "Meters"
        },
        "rho_cp": {
          "description": "Volumetric heat capacity of the pipe wall material",
          "type": "number",
          "format": "Joules per cubic meter-Kelvin"
        },
        "buried_depth": {
          "description": "Pipes buried depth below ground surface",
          "type": "number",
          "minimum": 0,
          "format": "Meters"
        }
      },
      "required": [
        "hydraulic_diameter",
        "hydraulic_diameter_autosized",
        "insulation_thickness",
        "insulation_conductivity",
        "diameter_ratio",
        "pressure_drop_per_meter",
        "roughness",
        "rho_cp",
        "buried_depth"
      ]
    },
    "diesel_generator_parameters": {
      "description": "Diesel generator parameters used by the microgrid model.",
      "type": "object",
      "properties": {
        "nominal_power_generation": {
          "description": "Nominal power generation.",
          "type": "number",
          "format": "Watts"
        },
        "source_phase_shift": {
          "description": "Phase shift angle of source (degrees)",
          "type": "number",
          "format": "Degrees"
        }
      }
    },
    "electrical_grid_parameters": {
      "description": "Electrical grid parameters used by the microgrid model.",
      "type": "object",
      "properties": {
        "frequency": {
          "description": "Frequency of the electrical grid",
          "type": "number",
          "default": 60,
          "format": "Hertz"
        },
        "source_rms_voltage": {
          "description": "Root mean square (RMS) voltage of source",
          "type": "number",
          "format": "Volts"
        },
        "source_phase_shift": {
          "description": "Phase shift angle of source",
          "type": "number",
          "format": "Degrees"
        }
      }
    },
    "pv_parameters": {
      "description": "Photovoltaic panel parameters used by the microgrid model.",
      "type": "object",
      "properties": {
        "net_surface_area": {
          "description": "Net PV Surface Area",
          "type": "number",
          "format": "Square Meters"
        },
        "surface_tilt": {
          "description": "PV Surface Tilt",
          "type": "number",
          "format": "Degrees"
        },
        "surface_azimuth": {
          "description": "PV Surface Azimuth",
          "type": "number",
          "format": "Degrees"
        },
        "latitude": {
          "description": "Latitude",
          "type": "number"
        },
        "nominal_voltage": {
          "description": "Nominal System Voltage",
          "type": "number",
          "default": 480,
          "format": "Volts"
        }
      },
      "required": [
        "net_surface_area",
        "surface_tilt",
        "surface_azimuth",
        "latitude",
        "nominal_voltage"
      ]
    },
    "wind_turbine_parameters": {
      "description": "Wind turbine parameters used by the microgrid model.",
      "type": "object",
      "properties": {
        "scaling_factor": {
          "description": "Scaling Factor",
          "type": "number"
        },
        "height_over_ground": {
          "description": "Height over ground",
          "type": "number",
          "format": "Meters"
        },
        "power_curve": {
          "description": "Power curve given as an array of pairs of value: the first in (m/s) and the second in (W).",
          "type": "array"
        },
        "rated_power": {
          "description": "Wind turbine size",
          "type": "number",
          "format": "kiloWatts"
        },
        "annual_energy_produced": {
          "description": "Average yearly energy produced",
          "type": "number",
          "format": "kiloWatt-hours"
        },
        "nominal_voltage": {
          "description": "Nominal System Voltage",
          "type": "number",
          "default": 480,
          "format": "Volts"
        }
      }
    },
    "capacitor_bank_parameters": {
      "description": "Capacitor bank parameters used by the microgrid model.",
      "type": "object",
      "properties": {
        "nominal_capacity": {
          "description": "Nominal Capacity",
          "type": "number",
          "format": "var"
        }
      },
      "required": [
        "nominal_capacity"
      ]
    },
    "substation_parameters": {
      "description": "Substation parameters used by the microgrid model.",
      "type": "object",
      "properties": {
        "RMS_voltage_high_side": {
          "description": "RMS voltage on high side",
          "type": "number",
          "format": "Volts"
        },
        "RMS_voltage_low_side": {
          "description": "RMS voltage on low side",
          "type": "number",
          "format": "Volts"
        }
      }
    },
    "transformer_parameters": {
      "description": "Transformer parameters used by the microgrid model.",
      "type": "object",
      "properties": {
        "id": {
          "description": "The transformer ID as defined in the scenario report.",
          "type": "string"
        },
        "nominal_capacity": {
          "description": "Nominal Capacity",
          "type": "number",
          "format": "kVA"
        },
        "reactance_resistance_ratio": {
          "description": "Ratio between reactance and resistance",
          "type": "number"
        }
      }
    },
    "power_converter_parameters": {
      "description": "Power converter parameters used by the microgrid model.",
      "type": "object",
      "properties": {
        "converter type": {
          "description": "Power converter type",
          "type": "string"
        },
        "RMS_voltage_ratio": {
          "description": "Ratio of RMS voltage on low side/high side",
          "type": "number"
        },
        "converter_efficiency": {
          "description": "Converter Efficiency (%)",
          "type": "number"
        },
        "nominal_capacity": {
          "description": "Nominal Capacity (kVA)",
          "type": "number",
          "format": "kVA"
        }
      }
    },
    "distribution_line_parameters": {
      "description": "Distribution lines parameters used by the microgrid model.",
      "type": "object",
      "properties": {
        "line_length": {
          "description": "Length of distribution lines",
          "type": "number",
          "format": "Meters"
        },
        "maximum_ampacity": {
          "description": "Maximum power of the lines.",
          "type": "number",
          "format": "Amps"
        },
        "nominal_voltage": {
          "description": "Nominal voltage of the lines",
          "type": "number",
          "default": 480,
          "format": "Volts"
        },
        "commercial_line_type": {
          "description": "Commercial line type given by the type of each wire making up the line",
          "type": "array"
        }
      }
    },
    "ac_inductive_load_parameters": {
      "description": "AC inductive load parameters used by the microgrid model.",
      "type": "object",
      "properties": {
        "nominal_voltage": {
          "description": "Nominal voltage",
          "type": "number",
          "format": "Volts"
        },
        "nominal_power_consumption": {
          "description": "Nominal Power Consumption type",
          "type": "string",
          "enum": [
            "constant",
            "variable load"
          ]
        }
      }
    },
    "dc_load_parameters": {
      "description": "DC load parameters used by the microgrid model.",
      "type": "object",
      "properties": {
        "nominal_voltage": {
          "description": "Nominal voltage",
          "type": "number",
          "format": "Volts"
        },
        "nominal_power_consumption": {
          "description": "Nominal Power Consumption type",
          "type": "string",
          "enum": [
            "constant",
            "variable load"
          ]
        }
      }
    },
    "battery_bank_parameters": {
      "description": "Battery bank associated with the district",
      "type": "object",
      "properties": {
        "capacity": {
          "description": "Maximum available charge",
          "type": "number",
          "format": "MegaWatt-hours"
        },
        "nominal_voltage": {
          "description": "Nominal voltage (V)",
          "type": "number",
          "format": "Volts"
        }
      }
    },
    "fourth_generation_def": {
      "properties": {
        "fourth_generation": {
          "$ref": "#/definitions/fourth_generation"
        }
      },
      "required": [
        "fourth_generation"
      ]
    },
    "fifth_generation_def": {
      "properties": {
        "fifth_generation": {
          "$ref": "#/definitions/fifth_generation"
        }
      },
      "required": [
        "fifth_generation"
      ]
    },
    "fifth_gen_ets_parameters": {
      "properties": {
        "chilled_water_supply_temp": {
          "description": "Chilled water supply temperature.",
          "type": "number",
          "default": 5,
          "format": "Celsius"
        },
        "hot_water_supply_temp": {
          "description": "Domestic hot water supply temperature.",
          "type": "number",
          "default": 50,
          "format": "Celsius"
        },
        "heating_water_supply_temp": {
          "description": "Heating water supply temperature.",
          "type": "number",
          "default": 50,
          "format": "Celsius"
        },
        "cop_heat_pump_heating": {
          "description": "COP of heat pump for heating water production.",
          "type": "number",
          "default": 2.5
        },
        "cop_heat_pump_hot_water": {
          "description": "COP of heat pump for domestic hot water production.",
          "type": "number",
          "default": 2.5
        },
        "cop_heat_pump_cooling": {
          "description": "COP of heat pump for cooling water production.",
          "type": "number",
          "default": 3.5
        },
        "ets_pump_flow_rate": {
          "description": "Design volume flow rate of the ETS pump.",
          "type": "number",
          "default": 0.0005,
          "format": "Cubic meters per second"
        },
        "ets_pump_head": {
          "description": "Design head pressure of the ETS pump.",
          "type": "number",
          "default": 10000,
          "format": "Pascals"
        },
        "fan_design_flow_rate": {
          "description": "Design volume flow rate of the load-side fan.",
          "type": "number",
          "default": 0.25,
          "format": "Cubic meters per second"
        },
        "fan_design_head": {
          "description": "Design head pressure of the load-side fan.",
          "type": "number",
          "default": 150,
          "format": "Pascals"
        }
      },
      "required": [
        "hot_water_supply_temp",
        "chilled_water_supply_temp",
        "heating_water_supply_temp",
        "cop_heat_pump_heating",
        "cop_heat_pump_cooling",
        "cop_heat_pump_hot_water",
        "ets_pump_flow_rate",
        "ets_pump_head",
        "fan_design_flow_rate",
        "fan_design_head"
      ]
    },
    "soil_def": {
      "description": "Soil properties for Ground Heat Exchanger sizing",
      "type": "object",
      "properties": {
        "conductivity": {
          "description": "The conductivity of the soil.",
          "type": "number",
          "default": 2,
          "format": "Watts per meter-Kelvin"
        },
        "rho_cp": {
          "description": "The volumetric heat capacity of the soil.",
          "type": "number",
          "default": 2600000,
          "format": "Joules per cubic meter-Kelvin"
        },
        "undisturbed_temp": {
          "description": "The undisturbed average soil temperature.",
          "type": "number",
          "default": 15,
          "format": "Celsius"
        }
      },
      "required": [
        "conductivity",
        "rho_cp",
        "undisturbed_temp"
      ]
    },
    "borefields_def": {
      "description": "The properties associated with each Ground Heat Exchanger instance",
      "type": "object",
      "properties": {
        "ghe_id": {
          "description": "Feature ID of GHE from GeoJSON Feature File.",
          "type": "string"
        },
        "pre_designed_borefield": {
          "$ref": "#/definitions/pre_designed_borefield_def"
        },
        "autosized_rectangle_borefield": {
          "$ref": "#/definitions/autosized_rectangle_borefield_def"
        },
        "autosized_rectangle_constrained_borefield": {
          "$ref": "#/definitions/autosized_rectangle_constrained_borefield_def"
        },
        "autosized_birectangle_borefield": {
          "$ref": "#/definitions/autosized_birectangle_borefield_def"
        },
        "autosized_birectangle_constrained_borefield": {
          "$ref": "#/definitions/autosized_birectangle_constrained_borefield_def"
        },
        "autosized_bizoned_rectangle_borefield": {
          "$ref": "#/definitions/autosized_bizoned_rectangle_borefield_def"
        },
        "autosized_near_square_borefield": {
          "$ref": "#/definitions/autosized_near_square_borefield_def"
        },
        "autosized_rowwise_borefield": {
          "$ref": "#/definitions/autosized_rowwise_borefield_def"
        }
      },
      "oneOf": [
        {
          "required": [
            "pre_designed_borefield"
          ]
        },
        {
          "required": [
            "autosized_rectangle_borefield"
          ]
        },
        {
          "required": [
            "autosized_birectangle_borefield"
          ]
        },
        {
          "required": [
            "autosized_birectangle_constrained_borefield"
          ]
        },
        {
          "required": [
            "autosized_bizoned_rectangle_borefield"
          ]
        },
        {
          "required": [
            "autosized_near_square_borefield"
          ]
        },
        {
          "required": [
            "autosized_rowwise_borefield"
          ]
        }
      ],
      "required": [
        "ghe_id"
      ]
    },
    "pre_designed_borefield_def": {
      "description": "Pre-designed borefield properties for limited Ground Heat Exchanger sizing.",
      "type": "object",
      "properties": {
        "borehole_length": {
          "description": "The length of the boreholes.",
          "type": "number",
          "minimum": 0,
          "default": 135,
          "format": "Meters"
        },
        "borehole_x_coordinates": {
          "description": "X-coordinates of the boreholes.",
          "type": "array",
          "items": {
            "type": "number",
            "format": "Meters"
          }
        },
        "borehole_y_coordinates": {
          "description": "Y-coordinate of the boreholes.",
          "type": "array",
          "items": {
            "type": "number",
            "format": "Meters"
          }
        }
      },
      "required": [
        "borehole_length",
        "borehole_x_coordinates",
        "borehole_y_coordinates"
      ]
    },
    "autosized_rectangle_borefield_def": {
      "description": "Borefield properties for Ground Heat Exchanger sizing via the RECTANGLE method.",
      "type": "object",
      "properties": {
        "b_min": {
          "description": "Minimum borehole-to-borehole spacing.",
          "type": "number",
          "minimum": 0,
          "default": 3,
          "format": "Meters"
        },
        "b_max": {
          "description": "Maximum borehole-to-borehole spacing.",
          "type": "number",
          "minimum": 0,
          "default": 10,
          "format": "Meters"
        },
        "max_height": {
          "description": "Maximum height, or depth, of each borehole heat exchanger.",
          "type": "number",
          "minimum": 0,
          "default": 200,
          "format": "Meters"
        },
        "min_height": {
          "description": "Minimum height, or depth, of each borehole heat exchanger.",
          "type": "number",
          "minimum": 0,
          "default": 50,
          "format": "Meters"
        },
        "number_of_boreholes": {
          "description": "Number of boreholes on the site, determined from Thermal Network sizing.",
          "type": "number",
          "minimum": 1
        },
        "borehole_length": {
          "description": "The length of the boreholes.",
          "type": "number",
          "minimum": 1,
          "default": 135,
          "format": "Meters"
        },
        "length_of_ghe": {
          "description": "Horizontal surface length allowed for the ground heat exchanger.",
          "type": "number",
          "minimum": 1,
          "default": 100,
          "format": "Meters"
        },
        "width_of_ghe": {
          "description": "Horizontal surface width allowed for the ground heat exchange.r",
          "type": "number",
          "minimum": 1,
          "default": 100,
          "format": "Meters"
        }
      },
      "required": [
        "number_of_boreholes",
        "borehole_length",
        "length_of_ghe",
        "width_of_ghe"
      ],
      "additionalProperties": true
    },
    "autosized_rectangle_constrained_borefield_def": {
      "description": "Borefield properties for Ground Heat Exchanger sizing via the RECTANGLECONSTRAINED method.",
      "type": "object",
      "properties": {
        "b_min": {
          "description": "Minimum borehole-to-borehole spacing.",
          "type": "number",
          "minimum": 0,
          "default": 3,
          "format": "Meters"
        },
        "b_max": {
          "description": "Maximum borehole-to-borehole spacing.",
          "type": "number",
          "minimum": 0,
          "default": 10,
          "format": "Meters"
        },
        "max_height": {
          "description": "Maximum height, or depth, of each borehole heat exchanger.",
          "type": "number",
          "minimum": 0,
          "default": 200,
          "format": "Meters"
        },
        "min_height": {
          "description": "Minimum height, or depth, of each borehole heat exchanger.",
          "type": "number",
          "minimum": 0,
          "default": 50,
          "format": "Meters"
        },
        "number_of_boreholes": {
          "description": "Number of boreholes on the site, determined from Thermal Network sizing",
          "type": "number",
          "minimum": 0
        },
        "borehole_length": {
          "description": "The length of the boreholes.",
          "type": "number",
          "minimum": 0,
          "default": 100,
          "format": "Meters"
        }
      },
      "required": [
        "number_of_boreholes",
        "borehole_length"
      ],
      "additionalProperties": true
    },
    "autosized_birectangle_borefield_def": {
      "description": "Borefield properties for Ground Heat Exchanger sizing via the BIRECTANGLE method.",
      "type": "object",
      "properties": {
        "b_min": {
          "description": "Minimum borehole-to-borehole spacing.",
          "type": "number",
          "minimum": 0,
          "default": 3,
          "format": "Meters"
        },
        "b_max_x": {
          "description": "Maximum borehole-to-borehole spacing in x-direction.",
          "type": "number",
          "minimum": 0,
          "default": 10,
          "format": "Meters"
        },
        "b_max_y": {
          "description": "Maximum borehole-to-borehole spacing in y-direction.",
          "type": "number",
          "minimum": 0,
          "default": 10,
          "format": "Meters"
        },
        "max_height": {
          "description": "Maximum height, or depth, of each borehole heat exchanger.",
          "type": "number",
          "minimum": 0,
          "default": 200,
          "format": "Meters"
        },
        "min_height": {
          "description": "Minimum height, or depth, of each borehole heat exchanger.",
          "type": "number",
          "minimum": 0,
          "default": 50,
          "format": "Meters"
        },
        "number_of_boreholes": {
          "description": "Number of boreholes on the site, determined from Thermal Network sizing",
          "type": "number",
          "minimum": 0
        },
        "borehole_length": {
          "description": "The length of the boreholes.",
          "type": "number",
          "minimum": 0,
          "default": 100,
          "format": "Meters"
        },
        "length_of_ghe": {
          "description": "Horizontal surface length allowed for the ground heat exchanger.",
          "type": "number",
          "minimum": 1,
          "default": 100,
          "format": "Meters"
        },
        "width_of_ghe": {
          "description": "Horizontal surface width allowed for the ground heat exchanger.",
          "type": "number",
          "minimum": 1,
          "default": 100,
          "format": "Meters"
        }
      },
      "required": [
        "number_of_boreholes",
        "borehole_length",
        "length_of_ghe",
        "width_of_ghe"
      ],
      "additionalProperties": true
    },
    "autosized_birectangle_constrained_borefield_def": {
      "description": "Borefield properties for Ground Heat Exchanger sizing via the BIRECTANGLECONSTRAINED method.",
      "type": "object",
      "properties": {
        "b_min": {
          "description": "Minimum borehole-to-borehole spacing.",
          "type": "number",
          "minimum": 0,
          "default": 3,
          "format": "Meters"
        },
        "b_max_x": {
          "description": "Maximum borehole-to-borehole spacing in x-direction.",
          "type": "number",
          "minimum": 0,
          "default": 10,
          "format": "Meters"
        },
        "b_max_y": {
          "description": "Maximum borehole-to-borehole spacing in y-direction.",
          "type": "number",
          "minimum": 0,
          "default": 10,
          "format": "Meters"
        },
        "max_height": {
          "description": "Maximum height, or depth, of each borehole heat exchanger.",
          "type": "number",
          "minimum": 0,
          "default": 200,
          "format": "Meters"
        },
        "min_height": {
          "description": "Minimum height, or depth, of each borehole heat exchanger.",
          "type": "number",
          "minimum": 0,
          "default": 50,
          "format": "Meters"
        },
        "number_of_boreholes": {
          "description": "Number of boreholes on the site, determined from Thermal Network sizing",
          "type": "number",
          "minimum": 0
        },
        "borehole_length": {
          "description": "The length of the boreholes.",
          "type": "number",
          "minimum": 0,
          "default": 100,
          "format": "Meters"
        }
      },
      "required": [
        "number_of_boreholes",
        "borehole_length"
      ],
      "additionalProperties": true
    },
    "autosized_bizoned_rectangle_borefield_def": {
      "description": "Borefield properties for Ground Heat Exchanger sizing via the BIZONEDRECTANGLE method.",
      "type": "object",
      "properties": {
        "b_min": {
          "description": "Minimum borehole-to-borehole spacing.",
          "type": "number",
          "minimum": 0,
          "default": 3,
          "format": "Meters"
        },
        "b_max_x": {
          "description": "Maximum borehole-to-borehole spacing in x-direction.",
          "type": "number",
          "minimum": 0,
          "default": 10,
          "format": "Meters"
        },
        "b_max_y": {
          "description": "Maximum borehole-to-borehole spacing in y-direction.",
          "type": "number",
          "minimum": 0,
          "default": 10,
          "format": "Meters"
        },
        "max_height": {
          "description": "Maximum height, or depth, of each borehole heat exchanger.",
          "type": "number",
          "minimum": 0,
          "default": 200,
          "format": "Meters"
        },
        "min_height": {
          "description": "Minimum height, or depth, of each borehole heat exchanger.",
          "type": "number",
          "minimum": 0,
          "default": 50,
          "format": "Meters"
        },
        "number_of_boreholes": {
          "description": "Number of boreholes on the site, determined from Thermal Network sizing",
          "type": "number",
          "minimum": 0
        },
        "borehole_length": {
          "description": "The length of the boreholes.",
          "type": "number",
          "minimum": 0,
          "default": 100,
          "format": "Meters"
        },
        "length_of_ghe": {
          "description": "Horizontal surface length allowed for the ground heat exchanger.",
          "type": "number",
          "minimum": 1,
          "default": 100,
          "format": "Meters"
        },
        "width_of_ghe": {
          "description": "Horizontal surface width allowed for the ground heat exchanger.",
          "type": "number",
          "minimum": 1,
          "default": 100,
          "format": "Meters"
        }
      },
      "required": [
        "number_of_boreholes",
        "borehole_length",
        "length_of_ghe",
        "width_of_ghe"
      ],
      "additionalProperties": true
    },
    "autosized_near_square_borefield_def": {
      "description": "Borefield properties for Ground Heat Exchanger sizing via the NEARSQUARE method.",
      "type": "object",
      "properties": {
        "b": {
          "type": "number",
          "minimum": 0,
          "format": "Meters",
          "description": "Borehole-to-borehole spacing."
        },
        "max_height": {
          "description": "Maximum height, or depth, of each borehole heat exchanger.",
          "type": "number",
          "minimum": 0,
          "default": 200,
          "format": "Meters"
        },
        "min_height": {
          "description": "Minimum height, or depth, of each borehole heat exchanger.",
          "type": "number",
          "minimum": 0,
          "default": 50,
          "format": "Meters"
        },
        "number_of_boreholes": {
          "description": "Number of boreholes on the site, determined from Thermal Network sizing",
          "type": "number",
          "minimum": 0
        },
        "borehole_length": {
          "description": "The length of the boreholes.",
          "type": "number",
          "minimum": 0,
          "default": 100,
          "format": "Meters"
        },
        "length_of_ghe": {
          "description": "Horizontal surface length allowed for the ground heat exchanger.",
          "type": "number",
          "minimum": 1,
          "default": 100,
          "format": "Meters"
        },
        "width_of_ghe": {
          "description": "Horizontal surface width allowed for the ground heat exchanger.",
          "type": "number",
          "minimum": 1,
          "default": 100,
          "format": "Meters"
        }
      },
      "required": [
        "number_of_boreholes",
        "borehole_length",
        "length_of_ghe",
        "width_of_ghe"
      ],
      "additionalProperties": true
    },
    "autosized_rowwise_borefield_def": {
      "description": "Borefield properties for Ground Heat Exchanger sizing via the ROWWISE method.",
      "type": "object",
      "properties": {
        "min_spacing": {
          "description": "The smallest minimum spacing that will be used to generate a RowWise field.",
          "type": "number",
          "minimum": 0,
          "format": "Meters"
        },
        "max_spacing": {
          "description": "The largest minimum spacing that will be used to generate a RowWise field.",
          "type": "number",
          "minimum": 0,
          "format": "Meters"
        },
        "spacing_step": {
          "description": "The distance in spacing from the design found in the first part of first search to exhaustively check in the second part.",
          "type": "number",
          "minimum": 0,
          "format": "Meters"
        },
        "min_rotation": {
          "description": "The minimum rotation of the rows of each field relative to horizontal that will be used in the search.",
          "type": "number",
          "format": "Degrees",
          "maximum": 90,
          "minimum": -90
        },
        "max_rotation": {
          "description": "The maximum rotation of the rows of each field relative to horizontal that will be used in the search.",
          "type": "number",
          "format": "Degrees",
          "maximum": 90,
          "minimum": -90
        },
        "rotate_step": {
          "description": "Step size for field rotation search.",
          "type": "number",
          "format": "Degrees"
        },
        "max_height": {
          "description": "Maximum height, or depth, of each borehole heat exchanger.",
          "type": "number",
          "minimum": 0,
          "default": 200,
          "format": "Meters"
        },
        "min_height": {
          "description": "Minimum height, or depth, of each borehole heat exchanger.",
          "type": "number",
          "minimum": 0,
          "default": 50,
          "format": "Meters"
        },
        "number_of_boreholes": {
          "description": "Number of boreholes on the site, determined from Thermal Network sizing",
          "type": "number",
          "minimum": 0
        },
        "borehole_length": {
          "description": "The length of the boreholes.",
          "type": "number",
          "minimum": 0,
          "default": 100,
          "format": "Meters"
        }
      },
      "required": [
        "min_spacing",
        "max_spacing",
        "spacing_step",
        "min_rotation",
        "max_rotation",
        "rotate_step",
        "number_of_boreholes",
        "borehole_length"
      ],
      "additionalProperties": true
    },
    "pipe_def": {
      "description": "Pipe properties for Ground Heat Exchanger sizing",
      "type": "object",
      "properties": {
        "inner_diameter": {
          "description": "The diameter of the inner pipe surface.",
          "type": "number",
          "default": 0.0269,
          "format": "Meters"
        },
        "outer_diameter": {
          "description": "The diameter of the outer pipe surface.",
          "type": "number",
          "minimum": 0,
          "default": 0.0334,
          "format": "Meters"
        },
        "shank_spacing": {
          "description": "The spacing between the U-tube legs, as referenced from outer surface of the pipes (i.e., not referenced from each pipes respective centerline).",
          "type": "number",
          "minimum": 0,
          "default": 0.0277,
          "format": "Meters"
        },
        "roughness": {
          "description": "The surface roughness of the pipe.",
          "type": "number",
          "minimum": 0,
          "default": 1e-06,
          "format": "Meters"
        },
        "conductivity": {
          "description": "The conductivity of the pipe material.",
          "type": "number",
          "minimum": 0,
          "default": 0.4,
          "format": "Watts per meter-Kelvin"
        },
        "rho_cp": {
          "description": "The volumetric heat capacity of the pipe material.",
          "type": "number",
          "minimum": 0,
          "default": 1542000,
          "format": "Joules per cubic meter-Kelvin"
        },
        "arrangement": {
          "description": "Arrangement of the pipes.",
          "type": "string",
          "enum": [
            "singleutube",
            "coaxial",
            "doubleutube"
          ],
          "default": "singleutube"
        }
      },
      "required": [
        "inner_diameter",
        "outer_diameter",
        "shank_spacing",
        "roughness",
        "conductivity",
        "rho_cp",
        "arrangement"
      ]
    },
    "fluid_def": {
      "description": "Fluid properties for Ground Heat Exchanger sizing",
      "type": "object",
      "properties": {
        "fluid_name": {
          "description": "Circulating fluid parameters for ground heat exchanger sizing.",
          "type": "string",
          "enum": [
            "Water",
            "EthylAlcohol",
            "EthyleneGlycol",
            "MethylAlcohol",
            "PropyleneGlycol"
          ],
          "default": "Water"
        },
        "concentration_percent": {
          "description": "The concentration of circulation fluid as a fraction, from 0.0 to 0.6 (where 0.6 represents 60%).",
          "type": "number",
          "minimum": 0,
          "maximum": 0.6,
          "default": 0
        },
        "temperature": {
          "description": "Average design fluid temperature at peak conditions.",
          "type": "number",
          "default": 20,
          "format": "Celsius"
        }
      },
      "required": [
        "fluid_name",
        "concentration_percent",
        "temperature"
      ]
    },
    "grout_def": {
      "description": "Grout properties used for ground heat exchanger sizing.",
      "type": "object",
      "properties": {
        "conductivity": {
          "description": "Grout thermal conductivity.",
          "type": "number",
          "minimum": 0,
          "default": 2,
          "format": "Watts per meter-Kelvin"
        },
        "rho_cp": {
          "description": "Grout volumetric heat capacity.",
          "type": "number",
          "minimum": 0,
          "default": 4408000,
          "format": "Joules per cubic meter-Kelvin"
        }
      },
      "required": [
        "conductivity",
        "rho_cp"
      ]
    },
    "simulation_def": {
      "description": "Simulation parameters use for ground heat exchanger sizing.",
      "type": "object",
      "properties": {
        "num_months": {
          "description": "Length of ground heat exchanger sizing period.",
          "type": "integer",
          "minimum": 0,
          "default": 240,
          "format": "Months"
        }
      },
      "required": [
        "num_months"
      ]
    },
    "design_def": {
      "description": "Design parameters used for GHE sizing.",
      "type": "object",
      "properties": {
        "method": {
          "description": "Building load distribution method for Ground Heat Exchanger sizing",
          "type": "string",
          "enum": [
            "AREAPROPORTIONAL",
            "UPSTREAM"
          ],
          "default": "AREAPROPORTIONAL"
        },
        "flow_rate": {
          "description": "Nominal design mass flow rate. Depending on whether the flow_type attribute is set to 'borehole' or 'system', this will be the nominal flow rate for either each borehole or the entire ground heat exchanger.",
          "type": "number",
          "minimum": 0,
          "default": 0.3,
          "format": "Liters per second"
        },
        "flow_type": {
          "description": "Flow type for ground heat exchanger sizing",
          "type": "string",
          "enum": [
            "borehole",
            "system"
          ],
          "default": "borehole"
        },
        "max_eft": {
          "description": "Maximum heat pump entering fluid temperature used for ground heat exchanger sizing.",
          "type": "number",
          "default": 35,
          "format": "Celsius"
        },
        "min_eft": {
          "description": "Minimum heat pump entering fluid temperature used for ground heat exchanger sizing.",
          "type": "number",
          "default": 5,
          "format": "Celsius"
        }
      },
      "required": [
        "method",
        "flow_rate",
        "flow_type",
        "max_eft",
        "min_eft"
      ]
    },
    "borehole_def": {
      "description": "Borehole properties for Ground Heat Exchanger sizing",
      "type": "object",
      "properties": {
        "buried_depth": {
          "description": "The depth below the ground surface to the top of the borehole.",
          "type": "number",
          "default": 2.0,
          "format": "Meters"
        },
        "diameter": {
          "description": "The diameter of the borehole.",
          "type": "number",
          "default": 0.15,
          "format": "Meters"
        }
      },
      "required": [
        "buried_depth",
        "diameter"
      ]
    },
    "central_pump_parameters": {
      "description": "Parameters for central pump",
      "type": "object",
      "properties": {
        "pump_design_head": {
          "description": "Head pressure of the central network pump.",
          "type": "number",
          "format": "Pascals"
        },
        "pump_design_head_autosized": {
          "description": "True if the pump head is autosized, false if set manually",
          "type": "boolean",
          "default": true
        },
        "pump_flow_rate": {
          "description": "Design volume flow rate of the ambient loop pump.",
          "type": "number",
          "default": 0.01,
          "format": "Cubic meters per second"
        },
        "pump_flow_rate_autosized": {
          "description": "True if the pump flow rate is autosized, false if set manually",
          "type": "boolean",
          "default": true
        }
      },
      "required": [
        "pump_design_head",
        "pump_design_head_autosized",
        "pump_flow_rate",
        "pump_flow_rate_autosized"
      ]
    },
    "heat_source_parameters": {
      "type": "array",
      "items": {
        "heat_source_id": {
          "description": "Identifier for the heat source.",
          "type": "string"
        },
        "heat_source_rate": {
          "description": "Either a constant value (integer) or a path to the rate schedule file. If filepath, provide a *.mos heat source rate as time series (source positive, sink negative)",
          "type": [
            "string",
            "integer"
          ],
          "format": "Watts"
        },
        "heat_source_temperature": {
          "description": "Either a constant value (integer) or a path to the temperature schedule file. If filepath, provide a *.mos heat source temperature as time series (source positive, sink negative)",
          "type": [
            "string",
            "integer"
          ],
          "format": "Kelvin"
        }
      }
    },
    "fifth_generation": {
      "description": "Fifth generation district parameters, for an ambient loop system.",
      "type": "object",
      "properties": {
        "soil": {
          "$ref": "#/definitions/soil_def"
        },
        "ghe_parameters": {
          "$ref": "#/definitions/ghe_parameters"
        },
        "connected_buildings": {
          "items": [
            {
              "properties": {
                "building_id": {
                  "description": "This is the geojson_id that is defined in the building object."
                }
              }
            }
          ]
        },
        "central_pump_parameters": {
          "$ref": "#/definitions/central_pump_parameters"
        },
        "horizontal_piping_parameters": {
          "$ref": "#/definitions/horizontal_piping_parameters"
        },
        "heat_source_parameters": {
          "$ref": "#/definitions/heat_source_parameters"
        }
      },
      "required": [
        "soil",
        "horizontal_piping_parameters",
        "central_pump_parameters"
      ]
    },
    "fourth_generation": {
      "description": "Fourth generation district parameters, for a central loop system.",
      "type": "object",
      "properties": {
        "central_cooling_plant_parameters": {
          "$ref": "#/definitions/central_cooling_plant_parameters"
        },
        "central_heating_plant_parameters": {
          "$ref": "#/definitions/central_heating_plant_parameters"
        },
        "combined_heat_and_power_parameters": {
          "$ref": "#/definitions/combined_heat_and_power_parameters"
        },
        "connected_buildings": {
          "items": [
            {
              "properties": {
                "building_id": {
                  "description": "This is the geojson_id that is defined in the building object."
                }
              }
            }
          ]
        }
      },
      "anyOf": [
        {
          "required": [
            "central_cooling_plant_parameters"
          ]
        },
        {
          "required": [
            "central_heating_plant_parameters"
          ]
        },
        {
          "required": [
            "combined_heat_and_power_parameters"
          ]
        }
      ]
    }
  }
}
